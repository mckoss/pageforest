<html>

<head>
<title>Unit Test Runner</title>
<script src="../namespace.js"></script>
<script src="modules.js"></script>
<script src="../unit.js"></script>
<script src="../base.js"></script>
<script src="../timer.js"></script>
<script src="../loader.js"></script>
</head>

<body onload="runner.run();">
<h1 id="title"><script>document.write(document.title);</script></h1>
<script>
var unit = namespace.lookup('org.startpad.unit');
var modules = namespace.lookup('com.pageforest.modules');
var runner = namespace.lookup('com.pageforest.test.runner.html');
runner.define(function (ns) {
    ns.run = function () {
        var target = location.hash;
        if (!target) {
            target = 'all';
        }
        else {
            target = target.substr(1);
        }

        if (target != 'all' && !modules.locations[target + '.test']) {
            alert("No test defined for " + target);
            return;
        }

        unit.runTest(target, modules.locations);
    };
});
</script>

<div id="divUnit" style="font-family: Courier;">
<h2>Unit Test Output</h2>
</div>

</body>
</html>
