(function(b){function i(){}function j(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function g(a){for(var a=a.replace(/-/g,"_"),a=a.split("."),d=f,c=0;c<a.length;c++)d[a[c]]===void 0&&(d[a[c]]=new i),d=d[a[c]];return d}var f=b.namespace;if(f){if(j("3.0.1")<=j(f.VERSION))return;i=f.constructor}else b.namespace=f=new i;f.VERSION="3.0.1";b=i.prototype;b.module=function(a,d){var c=g(a);d&&d(c,g);return c};b.extend=function(a){for(var d in a)a.hasOwnProperty(d)&&
(this[d]=a[d])}})(this);
namespace.module("org.startpad.types",function(b){function i(a,d){return j(a)==d}function j(a){if(a===void 0)return"undefined";if(a===null)return"null";var d=Object.prototype.toString.call(a).match(/\[object (.*)\]/)[1].toLowerCase();f.indexOf(d)==-1&&(d=typeof a);return d}function g(a){var d=[],e;for(e in a)a.hasOwnProperty(e)&&d.push(e);return d}b.extend({VERSION:"0.2.2",isArguments:function(a){return i(a,"arguments")},isArray:function(a){return i(a,"array")},copyArray:function(a){return Array.prototype.slice.call(a)},isType:i,
typeOf:j,extend:function(c){var h,e,b,k;c===void 0&&(c={});for(h=1;h<arguments.length;h++){b=arguments[h];for(k in b)b.hasOwnProperty(k)&&(c[k]=b[k]);if(a)for(e=0;e<d.length;e++)k=d[e],b.hasOwnProperty(k)&&(c[k]=b[k])}return c},project:function(a,d){var e={};typeof d=="string"&&(d=[d]);for(var b=0;b<d.length;b++){var k=d[b];a&&a.hasOwnProperty(k)&&(e[k]=a[k])}return e},getFunctionName:function(a){if(typeof a=="function")return a=a.toString().match(/function\s*(\S+)\s*\(/),!a?"":a[1]},keys:Object.keys||
g,patch:function(){Object.keys=Object.keys||g;return b}});var f="number,string,boolean,array,function,date,regexp,arguments,undefined,null".split(","),a=!{toString:!0}.propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","constructor","isPrototypeOf"]});
namespace.module("org.startpad.funcs",function(b,i){function j(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function g(a,d,c,e){if(!(a._patches&&j(a._patches[d])>=j(c)))a._patches=a._patches||{},a._patches[d]=c,f(a,e)}function f(a,d){l.extend(a.prototype,d)}function a(a,d){function c(a,d){for(var e=l.copyArray(a),d=l.copyArray(d),h=0;h<e.length;h++)e[h]===void 0&&(e[h]=d.shift());return e.concat(d)}var e;e=arguments.length==3&&l.isArguments(arguments[2])?
Array.prototype.slice.call(arguments[2],self1):Array.prototype.slice.call(arguments,2);return function(){return a.apply(d||this,c(e,arguments))}}function d(a,d){function c(){return d.call(this,a,arguments,c)}d.call(a,void 0,arguments,c);return c}function c(a){function d(){}d.prototype=a;return new d}function h(a,d,c){a.prototype=b.create(d.prototype);a.prototype.constructor=a;f(a,c);return a}function e(a,d){for(var c=a.pop().prototype,e;a.length>0;){e=a.pop();var h=l.getFunctionName(e),g=b.create(c);
l.extend(g,e.prototype);g.constructor=e;g[h+"_super"]=c;c=g}e.prototype=c;f(e,d)}var l=i("org.startpad.types");b.extend({VERSION:"0.3.1",methods:f,bind:a,decorate:d,create:Object.create||c,subclass:h,mro:e,numericVersion:j,monkeyPatch:g,patch:function(){if(!Object.create)Object.create=c;g(Function,"org.startpad.funcs",b.VERSION,{methods:function(a){f(this,a)},curry:function(){var d=[this,void 0].concat(l.copyArray(arguments));return a.apply(void 0,d)},curryThis:function(d){var c=l.copyArray(arguments);
c.unshift(this);return a.apply(void 0,c)},decorate:function(a){return d(this,a)},subclass:function(a,d){h(this,a,d)},mro:function(a,d){a.unshift(this);e(a,d)}});return b}})});
namespace.module("org.startpad.string",function(b,i){function j(a,d,c){c=c||f;if(a==void 0)return"undefined";a=a.toString();return a=a.replace(c,function(a,c){for(var b=d,f=c.split("."),g=0;g<f.length;g++){var c=f[g],m=parseInt(c),b=isNaN(m)?b[c]:b[m];if(b==void 0)return""}return b})}var g=i("org.startpad.funcs");b.extend({VERSION:"0.3.0",patch:function(){g.monkeyPatch(String,"org.startpad.string",b.VERSION,{format:function(){return arguments.length==1&&typeof arguments[0]=="object"?j(this,arguments[0]):
j(this,arguments)}});return b},format:j,strip:function(a){return(a||"").replace(/^\s+|\s+$/g,"")}});var f=/\{\s*([^} ]+)\s*\}/g});namespace.module("com.pageforest.editor.codemirror",function(b){var i;b.extend({isProbablySupported:function(){return CodeMirror.isProbablySupported()&&!navigator.userAgent.match(/^Mozilla.5.0 .iPad/)},createEditor:function(b,g){var f={path:"/codemirror/js/",width:"100%",height:"100px",content:g},a=b.toLowerCase();a.substr(-5)==".html"?(f.stylesheet=["/codemirror/css/xmlcolors.css","/codemirror/css/jscolors.css","/codemirror/css/csscolors.css"],f.parserfile=["parsexml.js","parsecss.js","tokenizejavascript.js",
"parsejavascript.js","parsehtmlmixed.js"],f.parser="HTMLMixedParser"):a.substr(-4)==".xml"?(f.stylesheet="/codemirror/css/xmlcolors.css",f.parserfile=["parsexml.js"],f.parser="XMLParser"):a.substr(-3)==".js"||a.substr(-5)==".json"?(f.stylesheet="/codemirror/css/jscolors.css",f.parserfile=["tokenizejavascript.js","parsejavascript.js"],f.parser="JSParser"):a.substr(-4)==".css"?(f.stylesheet="/codemirror/css/csscolors.css",f.parserfile="parsecss.js",f.parser="CSSParser"):(f.parserfile="parsedummy.js",
f.parser="DummyParser");a=$('<textarea id="code"></textarea>');$("#content").empty().append(a);i=window.CodeMirror.fromTextArea("code",f)},adjustHeight:function(){if(i&&i.editor){var b=i.editor.container.scrollHeight;$(".CodeMirror-wrapping").css("height",b+"px")}},getData:function(){return i.getCode()},codemirror:i})});namespace.module("com.pageforest.editor",function(b){var i,j,g,f,a,d,c;function h(a){$("#status").text(a)}function e(a){h(a.status+" "+a.statusText)}function l(){var a=[];a.push('<a href="#">apps</a>');a.push('<span class="quiet">/</span>');if(g){a.push('<a href="#'+g+'">'+g+"</a>");a.push('<span class="quiet">/</span>');for(var d="#"+g+"/",c=f.split("/"),e=0;c[e];e++){var h=c[e];d+=h;e<c.length-1&&(d+="/");a.push('<a href="'+d+'">'+h+"</a>");d.substr(-1)=="/"&&a.push('<span class="quiet">/</span>')}}$("#breadcrumbs").html(a.join("\n"))}
function k(){var a=f;a.substr(-1)=="/"&&(a=a.substr(0,a.length-1));console.log("showFiles: "+j+" "+a);var d=[],c=a;c.substr(-1)=="/"&&(c=c.substr(0,c.length-1));var e=c.length||-1,b=[],l;for(l in j)if(j.hasOwnProperty(l)&&(c==""||l.charAt(e)=="/"&&l.substr(0,c.length)==c)){var k=l.substr(e+1).split("/");k.length==1?b.push(k[0]):(k=k[0]+"/",b.indexOf(k)==-1&&b.push(k))}for(c=0;c<b.length;c++){e=b[c];l=g+"/"+(a?a+"/":"")+e;k=l;if(k.substr(-1)=="/")k='<img width="83" height="64" src="/icons/64/folder.png" alt="" />';
else if(k.substr(-4)==".png")k='<img height="64" src="/mirror/'+k+'" alt="" />';else{var m="txt",n=k.lastIndexOf(".");n>0&&(m=k.substr(n+1).toLowerCase(),m=="json"&&(m="js"));k='<img width="54" height="64" src="/icons/64/'+m+'.png" alt="" />'}d.push('<div class="icon">');d.push('<a href="#'+l+'">'+k+"</a><br />");d.push('<a href="#'+l+'">'+e+"</a>");d.push("</div>")}b="/mirror/"+g+"/post?path="+a;d.push('<div style="width:100%; height:10em; clear:both">');d.push('<iframe class="upload" src="'+b+'" style="width:100%; height:100%; border:none"></iframe>');
d.push("</div>");$("#content").html(d.join("\n"));h("Loaded directory: "+g+"/"+a)}function n(){g="";console.log("loadAppList");$.ajax({url:"/mirror?method=list",dataType:"json",success:function(a){i=a.items;if(!g){var a=[],d;for(d in i)if(i.hasOwnProperty(d)){var c=i[d].icon?'<img width="64" height="64" src="/mirror/'+d+"/"+i[d].icon+'" alt="" />':'<img width="83" height="64" src="/icons/64/folder.png" alt="" />';a.push('<div class="icon">');a.push('<a href="#'+d+'">'+c+"</a><br />");a.push('<a href="#'+
d+'">'+d+"</a>");a.push("</div>")}$("#content").html(a.join("\n"));h("Loaded app list")}},error:function(a,d,c){a.status==403?($("#content").empty(),$("#status").html('<span class="error">Please sign in to edit your apps.</span>')):e(a,d,c)}})}function m(a){g=a;$.ajax({url:"/mirror/"+g+"?method=list&depth=0",dataType:"json",error:e,success:function(a){j=a.items;(!f||f.substr(-1)=="/")&&k()}})}function o(d){f=d;l();d==""||d.substr(-1)=="/"?k():$.ajax({url:"/mirror/"+g+"/"+f,dataType:"text",error:e,
success:function(d){a.createEditor(f,d);a.adjustHeight("shrink");h("Loaded file: "+f)}})}function p(){var a=$("iframe.upload")[0];a&&(a=a.contentWindow.document.body.innerHTML.replace(/<\/?[^>]+>\s*/gi,""),a.substr(0,1)=="{"&&JSON.parse(a).status==200&&m(g))}function r(){var c=window.location.hash;if(c==d)a.adjustHeight();else{d=c;var e=c.substr(1).split("/");console.log("parts: ["+e+"]");c=e.shift();e=e.join("/");console.log("app_id: ["+c+"]");c?c!=g?(m(c),e?o(e):f=""):e!=f&&o(e):n()}}function q(){$("#content").css("height",
window.innerHeight-40+"px");$("#content").css("width",window.innerWidth+"px")}i=void 0;j=void 0;g=void 0;f=void 0;a=void 0;d=void 0;c=void 0;b.extend({onReady:function(){c=new (namespace.lookup("com.pageforest.client").Client)(b);c.saveInterval=0;c.state="clean";d="###";a=namespace.lookup("com.pageforest.editor.ace");f=g="";setInterval(r,200);setInterval(p,1E3);$(window).bind("resize",q);q()},onSave:function(){$.ajax({type:"PUT",url:"/mirror/"+g+"/"+f,data:a.getData(),dataType:"text",success:function(a){h(a)},
error:e})},onUserChange:function(a){console.log("onUserChange("+a+");");a==void 0?($("#username").text("anonymous"),$("#signin").text("Sign in").attr("href","http://www.pageforest.com/sign-in/editor")):($("#username").text(a),$("#signin").text("Sign out").attr("href","http://www.pageforest.com/sign-out/editor"));g||n()},onSignInOut:function(){c.username!=void 0?c.signOut():c.signIn()},appListing:i,listing:j,app_id:g,filename:f,editor:a,hash:d,client:c})});namespace.module("com.pageforest.editor.textarea",function(b){b.extend({createEditor:function(b,j){var g=$('<textarea id="code"></textarea>');$("#content").empty().append(g);g.val(j).focus()},adjustHeight:function(b){for(var j=$("#code"),g=j.attr("scrollHeight"),f=j.attr("offsetHeight");b&&f&&g==f;)j.css("height",f/2+"px"),g=j.attr("scrollHeight"),f=j.attr("offsetHeight");g>f&&j.css("height",g+"px")},getData:function(){return $("textarea").val()}})});define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,d=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,c=b("ace/range").Range,h=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new d;this.$behaviour=new e};j.inherits(l,g);(function(){this.toggleCommentLines=function(a,d,e,h){for(var b=!0,a=/^(\s*)\/\//,f=e;f<=h;f++)if(!a.test(d.getLine(f))){b=!1;break}if(b){b=new c(0,0,0,0);for(f=e;f<=h;f++)e=d.getLine(f).match(a),b.start.row=f,b.end.row=f,b.end.column=e[0].length,d.replace(b,e[1])}else d.indentRows(e,h,"//")};this.getNextLineIndent=function(a,d,c){var e=
this.$getIndent(d),h=this.$tokenizer.getLineTokens(d,a),b=h.tokens,h=h.state;if(b.length&&b[b.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=d.match(/^.*[\{\(\[\:]\s*$/))&&(e+=c);else if(a=="doc-start"){if(h=="start"||a=="regex_allowed")return"";(a=d.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,d,c){return this.$outdent.checkOutdent(d,c)};this.autoOutdent=function(a,d,c){this.$outdent.autoOutdent(d,c)};this.createWorker=function(a){var d=
a.getDocument(),c=new h(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return c.call("setValue",[d.getValue()]),d.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};c.emit("change",a)}),c.on("jslint",function(d){for(var c=[],e=0;e<d.data.length;e++){var h=d.data[e];h&&c.push({row:h.line-1,column:h.character-1,text:h.reason,type:"warning",lint:h})}a.setAnnotations(c)}),c.on("narcissus",function(d){a.setAnnotations([d.data])}),c.on("terminate",
function(){a.clearAnnotations()}),c}}).call(l.prototype);i.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var j=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,d=b("ace/mode/text_highlight_rules").TextHighlightRules,c=function(){var d=g.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),c=
g.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=g.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),k="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+k+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":d.hasOwnProperty(a)?"keyword":c.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:k},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};j.inherits(c,d);i.JavaScriptHighlightRules=c});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};j.inherits(f,g);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);i.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var j=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var d=b.getLine(a).match(/^(\s*\})/);if(!d)return 0;var d=d[1].length,c=b.findMatchingBracket({row:a,column:d});if(!c||c.row==a)return 0;c=this.$getIndent(b.getLine(c.row));b.replace(new j(a,0,a,d-1),c)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);i.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var j=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,d,c,h){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+d);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(d=0;d<a.length;d++){var f=a[d],g=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=g}}this.$worker.postMessage({init:!0,
tlns:e,module:c,classname:h});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var d=i.callbacks[a.id];d&&(d(a.data),delete i.callbacks[a.id])}}};(function(){j.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var c=a[d],h=c.getAttribute("data-ace-base");if(h)return h.replace(/\/*$/,"/");if(c=c.src||c.getAttribute("src"))if(c=c.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return c[1]||c[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,d){this.$worker.postMessage({command:a,args:d})};this.call=function(a,d,c){if(c){var h=this.callbackId++;this.callbacks[h]=c;d.push(h)}this.send(a,d)};this.emit=function(a,d){this.$worker.postMessage({event:a,data:d})}}).call(f.prototype);i.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,d,c,h,e){if(e=="{")return a=c.getSelectionRange(),h=h.doc.getTextRange(a),h!==""?{text:"{"+h+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(c=c.getCursorPosition(),d=h.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}"&&h.$findOpeningBracket("}",{column:c.column+
1,row:c.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(c=c.getCursorPosition(),d=h.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}")){c=h.findMatchingBracket({row:c.row,column:c.column+1});if(!c)return!1;a=this.getNextLineIndent(a,d.substring(0,d.length-1),h.getTabString());h=this.$getIndent(h.doc.getLine(c.row));return{text:"\n"+a+"\n"+h,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,d,c,h,e){a=h.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&h.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,d,c,h,e){if(e=="(")return a=c.getSelectionRange(),h=h.doc.getTextRange(a),h!==""?{text:"("+h+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=c.getCursorPosition(),h.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&h.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,d,c,h,e){a=h.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&h.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,d,c,h,e){if(e=='"'){a=c.getSelectionRange();d=h.doc.getTextRange(a);if(d!=="")return{text:'"'+d+'"',selection:!1};c=c.getCursorPosition();d=h.doc.getLine(c.row);if(d.substring(c.column-1,c.column)=="\\")return!1;for(var h=h.getTokens(a.start.row,a.start.row)[0].tokens,e=0,b,
f=-1,g=0;g<h.length;g++){b=h[g];b.type=="string"?f=-1:f<0&&(f=b.value.indexOf('"'));if(b.value.length+e>a.start.column)break;e+=h[g].value.length}if(!b||f<0&&b.type!=="comment"&&(b.type!=="string"||a.start.column!==b.value.length+e-1&&b.value.lastIndexOf('"')===b.value.length-1))return{text:'""',selection:[1,1]};if(b&&b.type==="string"&&d.substring(c.column,c.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,d,c,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};j.inherits(f,g);i.CstyleBehaviour=f});define("ace/mode/html","require,exports,module,pilot/oop,ace/mode/text,ace/mode/javascript,ace/mode/css,ace/tokenizer,ace/mode/html_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/mode/javascript").Mode,a=b("ace/mode/css").Mode,d=b("ace/tokenizer").Tokenizer,c=b("ace/mode/html_highlight_rules").HtmlHighlightRules,h=b("ace/mode/behaviour/xml").XmlBehaviour,e=function(){var e=new c;this.$tokenizer=new d(e.getRules());this.$behaviour=
new h;this.$embeds=e.getEmbeds();this.createModeDelegates({"js-":f,"css-":a})};j.inherits(e,g);(function(){this.toggleCommentLines=function(){return 0};this.getNextLineIndent=function(a,d){return this.$getIndent(d)};this.checkOutdent=function(){return!1}}).call(e.prototype);i.Mode=e});
define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,d=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,c=b("ace/range").Range,h=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new d;this.$behaviour=new e};j.inherits(l,g);(function(){this.toggleCommentLines=function(a,d,e,b){for(var h=!0,a=/^(\s*)\/\//,f=e;f<=b;f++)if(!a.test(d.getLine(f))){h=!1;break}if(h){h=new c(0,0,0,0);for(f=e;f<=b;f++)e=d.getLine(f).match(a),h.start.row=f,h.end.row=f,h.end.column=e[0].length,d.replace(h,e[1])}else d.indentRows(e,b,"//")};this.getNextLineIndent=function(a,d,c){var e=
this.$getIndent(d),b=this.$tokenizer.getLineTokens(d,a),h=b.tokens,b=b.state;if(h.length&&h[h.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=d.match(/^.*[\{\(\[\:]\s*$/))&&(e+=c);else if(a=="doc-start"){if(b=="start"||a=="regex_allowed")return"";(a=d.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,d,c){return this.$outdent.checkOutdent(d,c)};this.autoOutdent=function(a,d,c){this.$outdent.autoOutdent(d,c)};this.createWorker=function(a){var d=
a.getDocument(),c=new h(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return c.call("setValue",[d.getValue()]),d.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};c.emit("change",a)}),c.on("jslint",function(d){for(var c=[],e=0;e<d.data.length;e++){var b=d.data[e];b&&c.push({row:b.line-1,column:b.character-1,text:b.reason,type:"warning",lint:b})}a.setAnnotations(c)}),c.on("narcissus",function(d){a.setAnnotations([d.data])}),c.on("terminate",
function(){a.clearAnnotations()}),c}}).call(l.prototype);i.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var j=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,d=b("ace/mode/text_highlight_rules").TextHighlightRules,c=function(){var d=g.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),c=
g.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=g.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),i="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+i+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":d.hasOwnProperty(a)?"keyword":c.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:i},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};j.inherits(c,d);i.JavaScriptHighlightRules=c});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};j.inherits(f,g);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);i.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var j=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var d=b.getLine(a).match(/^(\s*\})/);if(!d)return 0;var d=d[1].length,c=b.findMatchingBracket({row:a,column:d});if(!c||c.row==a)return 0;c=this.$getIndent(b.getLine(c.row));b.replace(new j(a,0,a,d-1),c)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);i.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var j=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,d,c,h){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+d);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(d=0;d<a.length;d++){var f=a[d],g=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=g}}this.$worker.postMessage({init:!0,
tlns:e,module:c,classname:h});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var d=i.callbacks[a.id];d&&(d(a.data),delete i.callbacks[a.id])}}};(function(){j.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var c=a[d],h=c.getAttribute("data-ace-base");if(h)return h.replace(/\/*$/,"/");if(c=c.src||c.getAttribute("src"))if(c=c.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return c[1]||c[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,d){this.$worker.postMessage({command:a,args:d})};this.call=function(a,d,c){if(c){var b=this.callbackId++;this.callbacks[b]=c;d.push(b)}this.send(a,d)};this.emit=function(a,d){this.$worker.postMessage({event:a,data:d})}}).call(f.prototype);i.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,d,c,b,e){if(e=="{")return a=c.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"{"+b+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(c=c.getCursorPosition(),d=b.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}"&&b.$findOpeningBracket("}",{column:c.column+
1,row:c.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(c=c.getCursorPosition(),d=b.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}")){c=b.findMatchingBracket({row:c.row,column:c.column+1});if(!c)return!1;a=this.getNextLineIndent(a,d.substring(0,d.length-1),b.getTabString());b=this.$getIndent(b.doc.getLine(c.row));return{text:"\n"+a+"\n"+b,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,d,c,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&b.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,d,c,b,e){if(e=="(")return a=c.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"("+b+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=c.getCursorPosition(),b.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&b.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,d,c,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,d,c,b,e){if(e=='"'){a=c.getSelectionRange();d=b.doc.getTextRange(a);if(d!=="")return{text:'"'+d+'"',selection:!1};c=c.getCursorPosition();d=b.doc.getLine(c.row);if(d.substring(c.column-1,c.column)=="\\")return!1;for(var b=b.getTokens(a.start.row,a.start.row)[0].tokens,e=0,f,
g=-1,i=0;i<b.length;i++){f=b[i];f.type=="string"?g=-1:g<0&&(g=f.value.indexOf('"'));if(f.value.length+e>a.start.column)break;e+=b[i].value.length}if(!f||g<0&&f.type!=="comment"&&(f.type!=="string"||a.start.column!==f.value.length+e-1&&f.value.lastIndexOf('"')===f.value.length-1))return{text:'""',selection:[1,1]};if(f&&f.type==="string"&&d.substring(c.column,c.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,d,c,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};j.inherits(f,g);i.CstyleBehaviour=f});
define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,d=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,c=b("ace/worker/worker_client").WorkerClient,h=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new d};j.inherits(h,g);(function(){this.getNextLineIndent=function(a,d,c){var b=this.$getIndent(d),a=this.$tokenizer.getLineTokens(d,a).tokens;return a.length&&a[a.length-1].type=="comment"?b:(d.match(/^.*\{\s*$/)&&(b+=c),b)};this.checkOutdent=function(a,d,c){return this.$outdent.checkOutdent(d,c)};this.autoOutdent=function(a,d,c){this.$outdent.autoOutdent(d,c)};this.createWorker=function(a){var d=a.getDocument(),b=new c(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");b.call("setValue",
[d.getValue()]);d.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};b.emit("change",a)});b.on("csslint",function(d){var c=[];d.data.forEach(function(a){c.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(c)})}}).call(h.prototype);i.Mode=h});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,i){var j=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(d){for(var c=[],d=d.split(""),b=0;b<d.length;b++)c.push("[",d[b].toLowerCase(),d[b].toUpperCase(),"]");return c.join("")}var c=g.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
b=g.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=g.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
f=g.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),i=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return c.hasOwnProperty(a.toLowerCase())?"support.type":b.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":f.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
j=g.copyArray(i);j.unshift({token:"rparen",regex:"\\}",next:"start"});i=g.copyArray(i);i.unshift({token:"rparen",regex:"\\}",next:"media"});var m=[{token:"comment",merge:!0,regex:".+"}],o=g.copyArray(m);o.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var p=g.copyArray(m);p.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});m=g.copyArray(m);m.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:o,ruleset:j,ruleset_comment:m,media_ruleset:i,media_comment:p}};j.inherits(a,f);i.CssHighlightRules=a});
define("ace/mode/html_highlight_rules","require,exports,module,pilot/oop,ace/mode/css_highlight_rules,ace/mode/javascript_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/css_highlight_rules").CssHighlightRules,f=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,a=b("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){function a(d,c){return[{token:"string",merge:!0,regex:".*"+d,next:c},{token:"string",merge:!0,regex:".+"}]}
function d(b,f,h){b[f]=[{token:"text",regex:"\\s+"},{token:"meta.tag",regex:"[-_a-zA-Z0-9:]+",next:f+"-attribute-list"},{token:"empty",regex:"",next:f+"-attribute-list"}];b[f+"-qstring"]=a("'",f);b[f+"-qqstring"]=a('"',f);b[f+"-attribute-list"]=[{token:"text",regex:">",next:h},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",
merge:!0,regex:'["].*$',next:f+"-qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:f+"-qstring"}])}this.$rules={start:[{token:"text",merge:!0,regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<(?=s*script)",next:"script"},{token:"text",regex:"<(?=s*style)",next:"css"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],
cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",merge:!0,regex:"\\s+"},{token:"text",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};d(this.$rules,"tag","start");d(this.$rules,"css","css-start");d(this.$rules,"script","js-start");this.embedRules(f,"js-",[{token:"comment",regex:"\\/\\/.*(?=<\\/script>)",next:"tag"},{token:"text",regex:"<\\/(?=script)",next:"tag"}]);this.embedRules(g,"css-",[{token:"text",regex:"<\\/(?=style)",
next:"tag"}])};j.inherits(d,a);i.HtmlHighlightRules=d});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,c,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),c=e.doc.getLine(a.row),
c.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),c=e.doc.getLine(a.row),c.substring(a.column,a.column+2)=="</"))return c=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+c+"\n"+e,selection:[1,c.length,1,c.length]};return!1})};j.inherits(a,g);i.XmlBehaviour=a});define("ace/mode/xml","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/xml_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/xml_highlight_rules").XmlHighlightRules,d=b("ace/mode/behaviour/xml").XmlBehaviour,c=function(){this.$tokenizer=new f((new a).getRules());this.$behaviour=new d};j.inherits(c,g);(function(){this.getNextLineIndent=function(a,d){return this.$getIndent(d)}}).call(c.prototype);
i.Mode=c});
define("ace/mode/xml_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],tag:[{token:"text",regex:">",
next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"},{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*$',next:"qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:"qstring"}],qstring:[{token:"string",regex:".*'",next:"tag"},{token:"string",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'.*"',next:"tag"},{token:"string",merge:!0,regex:".+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},
{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};j.inherits(f,g);i.XmlHighlightRules=f});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,c,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),c=e.doc.getLine(a.row),
c.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),c=e.doc.getLine(a.row),c.substring(a.column,a.column+2)=="</"))return c=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+c+"\n"+e,selection:[1,c.length,1,c.length]};return!1})};j.inherits(a,g);i.XmlBehaviour=a});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var j=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,d,c,b,e){if(e=="{")return a=c.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"{"+b+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(c=c.getCursorPosition(),d=b.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}"&&b.$findOpeningBracket("}",{column:c.column+
1,row:c.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(c=c.getCursorPosition(),d=b.doc.getLine(c.row),e=d.substring(c.column,c.column+1),e=="}")){c=b.findMatchingBracket({row:c.row,column:c.column+1});if(!c)return!1;a=this.getNextLineIndent(a,d.substring(0,d.length-1),b.getTabString());b=this.$getIndent(b.doc.getLine(c.row));return{text:"\n"+a+"\n"+b,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,d,c,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&b.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,d,c,b,e){if(e=="(")return a=c.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"("+b+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=c.getCursorPosition(),b.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&b.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,b,c,f,e){a=f.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,b,c,f,e){if(e=='"'){a=c.getSelectionRange();b=f.doc.getTextRange(a);if(b!=="")return{text:'"'+b+'"',selection:!1};c=c.getCursorPosition();b=f.doc.getLine(c.row);if(b.substring(c.column-1,c.column)=="\\")return!1;for(var f=f.getTokens(a.start.row,a.start.row)[0].tokens,e=0,g,
i=-1,j=0;j<f.length;j++){g=f[j];g.type=="string"?i=-1:i<0&&(i=g.value.indexOf('"'));if(g.value.length+e>a.start.column)break;e+=f[j].value.length}if(!g||i<0&&g.type!=="comment"&&(g.type!=="string"||a.start.column!==g.value.length+e-1&&g.value.lastIndexOf('"')===g.value.length-1))return{text:'""',selection:[1,1]};if(g&&g.type==="string"&&b.substring(c.column,c.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,b,c,f,e){a=f.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};j.inherits(f,g);i.CstyleBehaviour=f});define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,i){var j=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,d=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,c=b("ace/worker/worker_client").WorkerClient,h=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new d};j.inherits(h,g);(function(){this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),a=this.$tokenizer.getLineTokens(b,a).tokens;return a.length&&a[a.length-1].type=="comment"?d:(b.match(/^.*\{\s*$/)&&(d+=c),d)};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)};this.createWorker=function(a){var b=a.getDocument(),d=new c(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");d.call("setValue",
[b.getValue()]);b.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};d.emit("change",a)});d.on("csslint",function(b){var c=[];b.data.forEach(function(a){c.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(c)})}}).call(h.prototype);i.Mode=h});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,i){var j=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(b){for(var c=[],b=b.split(""),d=0;d<b.length;d++)c.push("[",b[d].toLowerCase(),b[d].toUpperCase(),"]");return c.join("")}var b=g.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
f=g.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=g.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
i=g.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),j=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return b.hasOwnProperty(a.toLowerCase())?"support.type":f.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":i.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
n=g.copyArray(j);n.unshift({token:"rparen",regex:"\\}",next:"start"});j=g.copyArray(j);j.unshift({token:"rparen",regex:"\\}",next:"media"});var m=[{token:"comment",merge:!0,regex:".+"}],o=g.copyArray(m);o.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var p=g.copyArray(m);p.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});m=g.copyArray(m);m.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:o,ruleset:n,ruleset_comment:m,media_ruleset:j,media_comment:p}};j.inherits(a,f);i.CssHighlightRules=a});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var j=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var d=b.getLine(a).match(/^(\s*\})/);if(!d)return 0;var d=d[1].length,c=b.findMatchingBracket({row:a,column:d});if(!c||c.row==a)return 0;c=this.$getIndent(b.getLine(c.row));b.replace(new j(a,0,a,d-1),c)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);i.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var j=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,d,c,f){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+d);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(d=0;d<a.length;d++){var g=a[d],i=this.$normalizePath(b.nameToUrl(g,null,"_").replace(/.js$/,""));e[g]=i}}this.$worker.postMessage({init:!0,
tlns:e,module:c,classname:f});this.callbackId=1;this.callbacks={};var j=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":j._dispatchEvent(a.name,{data:a.data});break;case "call":var b=j.callbacks[a.id];b&&(b(a.data),delete j.callbacks[a.id])}}};(function(){j.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var c=a[d],f=c.getAttribute("data-ace-base");if(f)return f.replace(/\/*$/,"/");if(c=c.src||c.getAttribute("src"))if(c=c.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return c[1]||c[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,c){if(c){var f=this.callbackId++;this.callbacks[f]=c;b.push(f)}this.send(a,b)};this.emit=function(a,b){this.$worker.postMessage({event:a,data:b})}}).call(f.prototype);i.WorkerClient=f});namespace.module("com.pageforest.editor.ace",function(b){var i,j=window.require("ace/mode/javascript").Mode,g=window.require("ace/mode/css").Mode,f=window.require("ace/mode/html").Mode,a=window.require("ace/mode/xml").Mode;b.extend({createEditor:function(b,c){i=ace.edit("content");var h=b.toLowerCase();h.substr(-5)==".html"?i.getSession().setMode(new f):h.substr(-4)==".xml"?i.getSession().setMode(new a):h.substr(-3)==".js"||h.substr(-5)==".json"?i.getSession().setMode(new j):h.substr(-4)==".css"&&
i.getSession().setMode(new g);i.getSession().setValue(c)},adjustHeight:function(){},getData:function(){return i.getSession().getValue()},editor:i})});