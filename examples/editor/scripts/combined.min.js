(function(b){function j(){}function k(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function g(a){for(var a=a.replace(/-/g,"_"),a=a.split("."),c=f,d=0;d<a.length;d++)c[a[d]]===void 0&&(c[a[d]]=new j),c=c[a[d]];return c}var f=b.namespace;if(f){if(k("3.0.1")<=k(f.VERSION))return;j=f.constructor}else b.namespace=f=new j;f.VERSION="3.0.1";b=j.prototype;b.module=function(a,c){var d=g(a);c&&c(d,g);return d};b.extend=function(a){for(var c in a)a.hasOwnProperty(c)&&
(this[c]=a[c])}})(this);
namespace.module("org.startpad.types",function(b){function j(a,c){return k(a)==c}function k(a){if(a===void 0)return"undefined";if(a===null)return"null";var c=Object.prototype.toString.call(a).match(/\[object (.*)\]/)[1].toLowerCase();f.indexOf(c)==-1&&(c=typeof a);return c}function g(a){var c=[],e;for(e in a)a.hasOwnProperty(e)&&c.push(e);return c}b.extend({VERSION:"0.2.2",isArguments:function(a){return j(a,"arguments")},isArray:function(a){return j(a,"array")},copyArray:function(a){return Array.prototype.slice.call(a)},isType:j,
typeOf:k,extend:function(d){var h,e,b,m;d===void 0&&(d={});for(h=1;h<arguments.length;h++){b=arguments[h];for(m in b)b.hasOwnProperty(m)&&(d[m]=b[m]);if(a)for(e=0;e<c.length;e++)m=c[e],b.hasOwnProperty(m)&&(d[m]=b[m])}return d},project:function(a,c){var e={};typeof c=="string"&&(c=[c]);for(var b=0;b<c.length;b++){var m=c[b];a&&a.hasOwnProperty(m)&&(e[m]=a[m])}return e},getFunctionName:function(a){if(typeof a=="function")return a=a.toString().match(/function\s*(\S+)\s*\(/),!a?"":a[1]},keys:Object.keys||
g,patch:function(){Object.keys=Object.keys||g;return b}});var f="number,string,boolean,array,function,date,regexp,arguments,undefined,null".split(","),a=!{toString:!0}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","constructor","isPrototypeOf"]});
namespace.module("org.startpad.funcs",function(b,j){function k(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function g(a,c,d,e){if(!(a._patches&&k(a._patches[c])>=k(d)))a._patches=a._patches||{},a._patches[c]=d,f(a,e)}function f(a,c){l.extend(a.prototype,c)}function a(a,c){function d(a,c){for(var e=l.copyArray(a),c=l.copyArray(c),i=0;i<e.length;i++)e[i]===void 0&&(e[i]=c.shift());return e.concat(c)}var e;e=arguments.length==3&&l.isArguments(arguments[2])?
Array.prototype.slice.call(arguments[2],self1):Array.prototype.slice.call(arguments,2);return function(){return a.apply(c||this,d(e,arguments))}}function c(a,c){function d(){return c.call(this,a,arguments,d)}c.call(a,void 0,arguments,d);return d}function d(a){function c(){}c.prototype=a;return new c}function h(a,c,d){a.prototype=b.create(c.prototype);a.prototype.constructor=a;f(a,d);return a}function e(a,c){for(var d=a.pop().prototype,e;a.length>0;){e=a.pop();var h=l.getFunctionName(e),g=b.create(d);
l.extend(g,e.prototype);g.constructor=e;g[h+"_super"]=d;d=g}e.prototype=d;f(e,c)}var l=j("org.startpad.types");b.extend({VERSION:"0.3.1",methods:f,bind:a,decorate:c,create:Object.create||d,subclass:h,mro:e,numericVersion:k,monkeyPatch:g,patch:function(){if(!Object.create)Object.create=d;g(Function,"org.startpad.funcs",b.VERSION,{methods:function(a){f(this,a)},curry:function(){var c=[this,void 0].concat(l.copyArray(arguments));return a.apply(void 0,c)},curryThis:function(c){var d=l.copyArray(arguments);
d.unshift(this);return a.apply(void 0,d)},decorate:function(a){return c(this,a)},subclass:function(a,c){h(this,a,c)},mro:function(a,c){a.unshift(this);e(a,c)}});return b}})});
namespace.module("org.startpad.string",function(b,j){function k(a,c,d){d=d||f;if(a==void 0)return"undefined";a=a.toString();return a=a.replace(d,function(a,d){for(var b=c,f=d.split("."),i=0;i<f.length;i++){var d=f[i],n=parseInt(d),b=isNaN(n)?b[d]:b[n];if(b==void 0)return""}return b})}var g=j("org.startpad.funcs");b.extend({VERSION:"0.3.0",patch:function(){g.monkeyPatch(String,"org.startpad.string",b.VERSION,{format:function(){return arguments.length==1&&typeof arguments[0]=="object"?k(this,arguments[0]):
k(this,arguments)}});return b},format:k,strip:function(a){return(a||"").replace(/^\s+|\s+$/g,"")}});var f=/\{\s*([^} ]+)\s*\}/g});namespace.module("com.pageforest.editor.codemirror",function(b){var j;b.extend({isProbablySupported:function(){return CodeMirror.isProbablySupported()&&!navigator.userAgent.match(/^Mozilla.5.0 .iPad/)},createEditor:function(b,g){var f={path:"/codemirror/js/",width:"100%",height:"100px",content:g},a=b.toLowerCase();a.substr(-5)==".html"?(f.stylesheet=["/codemirror/css/xmlcolors.css","/codemirror/css/jscolors.css","/codemirror/css/csscolors.css"],f.parserfile=["parsexml.js","parsecss.js","tokenizejavascript.js",
"parsejavascript.js","parsehtmlmixed.js"],f.parser="HTMLMixedParser"):a.substr(-4)==".xml"?(f.stylesheet="/codemirror/css/xmlcolors.css",f.parserfile=["parsexml.js"],f.parser="XMLParser"):a.substr(-3)==".js"||a.substr(-5)==".json"?(f.stylesheet="/codemirror/css/jscolors.css",f.parserfile=["tokenizejavascript.js","parsejavascript.js"],f.parser="JSParser"):a.substr(-4)==".css"?(f.stylesheet="/codemirror/css/csscolors.css",f.parserfile="parsecss.js",f.parser="CSSParser"):(f.parserfile="parsedummy.js",
f.parser="DummyParser");a=$('<textarea id="code"></textarea>');$("#content").empty().append(a);j=window.CodeMirror.fromTextArea("code",f)},adjustHeight:function(){if(j&&j.editor){var b=j.editor.container.scrollHeight;$(".CodeMirror-wrapping").css("height",b+"px")}},getData:function(){return j.getCode()},codemirror:j})});namespace.module("com.pageforest.editor",function(b){function j(a){$("#status").text(a)}function k(a){j(a.status+" "+a.statusText)}function g(){var a=[];a.push('<a href="#">apps</a>');a.push('<span class="quiet">/</span>');if(i.app_id){a.push('<a href="#'+i.app_id+'">'+i.app_id+"</a>");a.push('<span class="quiet">/</span>');for(var c="#"+i.app_id+"/",d=i.filename.split("/"),e=0;d[e];e++){var h=d[e];c+=h;e<d.length-1&&(c+="/");a.push('<a href="'+c+'">'+h+"</a>");c.substr(-1)=="/"&&a.push('<span class="quiet">/</span>')}}$("#breadcrumbs").html(a.join("\n"))}
function f(){g();i.editor.view("hide");var a=i.filename;a.substr(-1)=="/"&&(a=a.substr(0,a.length-1));console.log("showFiles: "+i.listing+" "+a);var c=[],d=a;d.substr(-1)=="/"&&(d=d.substr(0,d.length-1));var e=d.length||-1,h=[],b;for(b in i.listing)if(i.listing.hasOwnProperty(b)&&(d==""||b.charAt(e)=="/"&&b.substr(0,d.length)==d)){var f=b.substr(e+1).split("/");f.length==1?h.push(f[0]):(f=f[0]+"/",h.indexOf(f)==-1&&h.push(f))}for(d=0;d<h.length;d++){e=h[d];b=i.app_id+"/"+(a?a+"/":"")+e;f=b;if(f.substr(-1)==
"/")f='<img width="83" height="64" src="/icons/64/folder.png" alt="" />';else if(f.substr(-4)==".png")f='<img height="64" src="/mirror/'+f+'" alt="" />';else{var l="txt",m=f.lastIndexOf(".");m>0&&(l=f.substr(m+1).toLowerCase(),l=="json"&&(l="js"));f='<img width="54" height="64" src="/icons/64/'+l+'.png" alt="" />'}c.push('<div class="icon">');c.push('<a href="#'+b+'">'+f+"</a><br />");c.push('<a href="#'+b+'">'+e+"</a>");c.push("</div>")}h="/mirror/"+i.app_id+"/post?path="+a;c.push('<div style="width:100%; height:10em; clear:both">');
c.push('<iframe class="upload" src="'+h+'" style="width:100%; height:100%; border:none"></iframe>');c.push("</div>");$("#content").html(c.join("\n"));j("Loaded directory: "+i.app_id+"/"+a)}function a(){i.app_id="";console.log("loadAppList");$.ajax({url:"/mirror?method=list",dataType:"json",success:function(a){g();i.appListing=a.items;if(!i.app_id){i.editor.view("hide");var a=[],c;for(c in i.appListing)if(i.appListing.hasOwnProperty(c)){var d=i.appListing[c].icon?'<img width="64" height="64" src="/mirror/'+
c+"/"+i.appListing[c].icon+'" alt="" />':'<img width="83" height="64" src="/icons/64/folder.png" alt="" />';a.push('<div class="icon">');a.push('<a href="#'+c+'">'+d+"</a><br />");a.push('<a href="#'+c+'">'+c+"</a>");a.push("</div>")}$("#content").html(a.join("\n"));j("Loaded app list")}},error:function(a,c,d){a.status==403?($("#content").empty(),$("#status").html('<span class="error">Please sign in to edit your apps.</span>')):k(a,c,d)}})}function c(a){i.app_id=a;$.ajax({url:"/mirror/"+i.app_id+
"?method=list&depth=0",dataType:"json",error:k,success:function(a){g();i.listing=a.items;(!i.filename||i.filename.substr(-1)=="/")&&f()}})}function d(a){i.filename=a;a==""||a.substr(-1)=="/"?f():$.ajax({url:"/mirror/"+i.app_id+"/"+i.filename,dataType:"text",error:k,success:function(a){g();$("#content").empty();i.editor.loadFile(i.filename,a);i.editor.adjustHeight("shrink");i.editor.view("show");j("Loaded file: "+i.filename)}})}function h(){var a=$("iframe.upload")[0];a&&(a=a.contentWindow.document.body.innerHTML.replace(/<\/?[^>]+>\s*/gi,
""),a.substr(0,1)=="{"&&JSON.parse(a).status==200&&c(i.app_id))}function e(){var e=window.location.hash;if(e==i.hash)i.editor.view()&&i.editor.adjustHeight();else{i.hash=e;var h=e.substr(1).split("/");console.log("parts: ["+h+"]");e=h.shift();h=h.join("/");console.log("app_id: ["+e+"]");e?e!=i.app_id?(c(e),h?d(h):i.filename=""):h!=i.filename&&d(h):a()}}function l(){console.log("setEditor()");if(i.editor.view()){var a=i.editor.getData();i.editor.view("hide");i.editor=i[$("#editor").val()];i.editor.loadFile(i.filename,
a);i.editor.view("show")}else i.editor=i[$("#editor").val()]}function m(){$("#ace").css("height",window.innerHeight-43+"px");$("#ace").css("width",window.innerWidth+"px");$("#textarea").css("height",window.innerHeight-43+"px");$("#textarea").css("width",window.innerWidth-15+"px")}var i={};b.extend({onReady:function(){var a=namespace.lookup("com.pageforest.client");i.client=new a.Client(b);i.client.saveInterval=0;i.client.state="clean";i.hash="###";i.app_id="";i.filename="";setInterval(e,200);setInterval(h,
1E3);i.ace=namespace.lookup("com.pageforest.editor.ace");i.ace.createEditor();i.ace.view("hide");i.textarea=namespace.lookup("com.pageforest.editor.textarea");i.textarea.view("hide");var a=i,c;console.log("User-Agent: "+navigator.userAgent);$("#editor").val("textarea");c=i.textarea;a.editor=c;$(window).bind("resize",m);$("#editor").change(l)},onSave:function(){$.ajax({type:"PUT",url:"/mirror/"+i.app_id+"/"+i.filename,data:i.editor.getData(),dataType:"text",success:function(a){j(a)},error:k})},onUserChange:function(c){console.log("onUserChange("+
c+");");c==void 0?($("#username").text("anonymous"),$("#signin").text("Sign in").attr("href","http://www.pageforest.com/sign-in/editor")):($("#username").text(c),$("#signin").text("Sign out").attr("href","http://www.pageforest.com/sign-out/editor"));i.app_id||a()},onSignInOut:function(){i.client.username!=void 0?i.client.signOut():i.client.signIn()},appListing:i.appListing,listing:i.listing,app_id:i.app_id,filename:i.filename,editor:i.editor,hash:i.hash,client:i.client})});namespace.module("com.pageforest.editor.textarea",function(b){var j=!1;b.extend({createEditor:function(){},loadFile:function(b,g){var f=$('<textarea id="code"></textarea>');$("#textarea").empty().append(f);f.val(g).focus()},adjustHeight:function(b){console.log("adjustHeight() within textarea");for(var g=$("#code"),f=g.attr("scrollHeight"),a=g.attr("offsetHeight");b&&a&&f==a;)g.css("height",a/2+"px"),f=g.attr("scrollHeight"),a=g.attr("offsetHeight");f>a&&g.css("height",f+"px")},getData:function(){return $("#textarea").find("textarea").val()},
view:function(b){return b=="show"?(j=!0,$("#textarea").css("display","block"),!0):b=="hide"?(j=!1,$("#textarea").css("display","none"),!1):j}})});define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/range").Range,h=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new c;this.$behaviour=new e};k.inherits(l,g);(function(){this.toggleCommentLines=function(a,c,e,h){for(var b=!0,a=/^(\s*)\/\//,f=e;f<=h;f++)if(!a.test(c.getLine(f))){b=!1;break}if(b){b=new d(0,0,0,0);for(f=e;f<=h;f++)e=c.getLine(f).match(a),b.start.row=f,b.end.row=f,b.end.column=e[0].length,c.replace(b,e[1])}else c.indentRows(e,h,"//")};this.getNextLineIndent=function(a,c,d){var e=
this.$getIndent(c),h=this.$tokenizer.getLineTokens(c,a),b=h.tokens,h=h.state;if(b.length&&b[b.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=c.match(/^.*[\{\(\[\:]\s*$/))&&(e+=d);else if(a=="doc-start"){if(h=="start"||a=="regex_allowed")return"";(a=c.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=
a.getDocument(),d=new h(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return d.call("setValue",[c.getValue()]),c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};d.emit("change",a)}),d.on("jslint",function(c){for(var d=[],e=0;e<c.data.length;e++){var h=c.data[e];h&&d.push({row:h.line-1,column:h.character-1,text:h.reason,type:"warning",lint:h})}a.setAnnotations(d)}),d.on("narcissus",function(c){a.setAnnotations([c.data])}),d.on("terminate",
function(){a.clearAnnotations()}),d}}).call(l.prototype);j.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,j){var k=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,c=b("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var c=g.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),d=
g.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=g.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),m="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+m+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":c.hasOwnProperty(a)?"keyword":d.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:m},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};k.inherits(d,c);j.JavaScriptHighlightRules=d});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};k.inherits(f,g);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);j.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,j){var k=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);j.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,j){var k=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,h){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var f=a[c],g=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=g}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:h});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var c=i.callbacks[a.id];c&&(c(a.data),delete i.callbacks[a.id])}}};(function(){k.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],h=d.getAttribute("data-ace-base");if(h)return h.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,c){this.$worker.postMessage({command:a,args:c})};this.call=function(a,c,d){if(d){var h=this.callbackId++;this.callbacks[h]=d;c.push(h)}this.send(a,c)};this.emit=function(a,c){this.$worker.postMessage({event:a,data:c})}}).call(f.prototype);j.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,d,h,e){if(e=="{")return a=d.getSelectionRange(),h=h.doc.getTextRange(a),h!==""?{text:"{"+h+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(d=d.getCursorPosition(),c=h.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}"&&h.$findOpeningBracket("}",{column:d.column+
1,row:d.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(d=d.getCursorPosition(),c=h.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}")){d=h.findMatchingBracket({row:d.row,column:d.column+1});if(!d)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),h.getTabString());h=this.$getIndent(h.doc.getLine(d.row));return{text:"\n"+a+"\n"+h,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,c,d,h,e){a=h.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&h.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,c,d,h,e){if(e=="(")return a=d.getSelectionRange(),h=h.doc.getTextRange(a),h!==""?{text:"("+h+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=d.getCursorPosition(),h.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&h.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,c,d,h,e){a=h.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&h.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,c,d,h,e){if(e=='"'){a=d.getSelectionRange();c=h.doc.getTextRange(a);if(c!=="")return{text:'"'+c+'"',selection:!1};d=d.getCursorPosition();c=h.doc.getLine(d.row);if(c.substring(d.column-1,d.column)=="\\")return!1;for(var h=h.getTokens(a.start.row,a.start.row)[0].tokens,e=0,b,
f=-1,i=0;i<h.length;i++){b=h[i];b.type=="string"?f=-1:f<0&&(f=b.value.indexOf('"'));if(b.value.length+e>a.start.column)break;e+=h[i].value.length}if(!b||f<0&&b.type!=="comment"&&(b.type!=="string"||a.start.column!==b.value.length+e-1&&b.value.lastIndexOf('"')===b.value.length-1))return{text:'""',selection:[1,1]};if(b&&b.type==="string"&&c.substring(d.column,d.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,g);j.CstyleBehaviour=f});define("ace/mode/html","require,exports,module,pilot/oop,ace/mode/text,ace/mode/javascript,ace/mode/css,ace/tokenizer,ace/mode/html_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/mode/javascript").Mode,a=b("ace/mode/css").Mode,c=b("ace/tokenizer").Tokenizer,d=b("ace/mode/html_highlight_rules").HtmlHighlightRules,h=b("ace/mode/behaviour/xml").XmlBehaviour,e=function(){var e=new d;this.$tokenizer=new c(e.getRules());this.$behaviour=
new h;this.$embeds=e.getEmbeds();this.createModeDelegates({"js-":f,"css-":a})};k.inherits(e,g);(function(){this.toggleCommentLines=function(){return 0};this.getNextLineIndent=function(a,c){return this.$getIndent(c)};this.checkOutdent=function(){return!1}}).call(e.prototype);j.Mode=e});
define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/range").Range,h=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new c;this.$behaviour=new e};k.inherits(l,g);(function(){this.toggleCommentLines=function(a,c,e,b){for(var h=!0,a=/^(\s*)\/\//,f=e;f<=b;f++)if(!a.test(c.getLine(f))){h=!1;break}if(h){h=new d(0,0,0,0);for(f=e;f<=b;f++)e=c.getLine(f).match(a),h.start.row=f,h.end.row=f,h.end.column=e[0].length,c.replace(h,e[1])}else c.indentRows(e,b,"//")};this.getNextLineIndent=function(a,c,d){var e=
this.$getIndent(c),b=this.$tokenizer.getLineTokens(c,a),h=b.tokens,b=b.state;if(h.length&&h[h.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=c.match(/^.*[\{\(\[\:]\s*$/))&&(e+=d);else if(a=="doc-start"){if(b=="start"||a=="regex_allowed")return"";(a=c.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=
a.getDocument(),d=new h(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return d.call("setValue",[c.getValue()]),c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};d.emit("change",a)}),d.on("jslint",function(c){for(var d=[],e=0;e<c.data.length;e++){var b=c.data[e];b&&d.push({row:b.line-1,column:b.character-1,text:b.reason,type:"warning",lint:b})}a.setAnnotations(d)}),d.on("narcissus",function(c){a.setAnnotations([c.data])}),d.on("terminate",
function(){a.clearAnnotations()}),d}}).call(l.prototype);j.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,j){var k=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,c=b("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var c=g.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),d=
g.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=g.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),j="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+j+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":c.hasOwnProperty(a)?"keyword":d.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:j},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};k.inherits(d,c);j.JavaScriptHighlightRules=d});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};k.inherits(f,g);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);j.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,j){var k=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);j.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,j){var k=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,h){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var f=a[c],g=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=g}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:h});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var c=i.callbacks[a.id];c&&(c(a.data),delete i.callbacks[a.id])}}};(function(){k.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],h=d.getAttribute("data-ace-base");if(h)return h.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,c){this.$worker.postMessage({command:a,args:c})};this.call=function(a,c,d){if(d){var b=this.callbackId++;this.callbacks[b]=d;c.push(b)}this.send(a,c)};this.emit=function(a,c){this.$worker.postMessage({event:a,data:c})}}).call(f.prototype);j.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,d,b,e){if(e=="{")return a=d.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"{"+b+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}"&&b.$findOpeningBracket("}",{column:d.column+
1,row:d.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}")){d=b.findMatchingBracket({row:d.row,column:d.column+1});if(!d)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),b.getTabString());b=this.$getIndent(b.doc.getLine(d.row));return{text:"\n"+a+"\n"+b,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&b.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,c,d,b,e){if(e=="(")return a=d.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"("+b+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=d.getCursorPosition(),b.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&b.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,c,d,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,c,d,b,e){if(e=='"'){a=d.getSelectionRange();c=b.doc.getTextRange(a);if(c!=="")return{text:'"'+c+'"',selection:!1};d=d.getCursorPosition();c=b.doc.getLine(d.row);if(c.substring(d.column-1,d.column)=="\\")return!1;for(var b=b.getTokens(a.start.row,a.start.row)[0].tokens,e=0,f,
g=-1,i=0;i<b.length;i++){f=b[i];f.type=="string"?g=-1:g<0&&(g=f.value.indexOf('"'));if(f.value.length+e>a.start.column)break;e+=b[i].value.length}if(!f||g<0&&f.type!=="comment"&&(f.type!=="string"||a.start.column!==f.value.length+e-1&&f.value.lastIndexOf('"')===f.value.length-1))return{text:'""',selection:[1,1]};if(f&&f.type==="string"&&c.substring(d.column,d.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,g);j.CstyleBehaviour=f});
define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/worker/worker_client").WorkerClient,h=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new c};k.inherits(h,g);(function(){this.getNextLineIndent=function(a,c,d){var b=this.$getIndent(c),a=this.$tokenizer.getLineTokens(c,a).tokens;return a.length&&a[a.length-1].type=="comment"?b:(c.match(/^.*\{\s*$/)&&(b+=d),b)};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=a.getDocument(),b=new d(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");b.call("setValue",
[c.getValue()]);c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};b.emit("change",a)});b.on("csslint",function(c){var d=[];c.data.forEach(function(a){d.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(d)})}}).call(h.prototype);j.Mode=h});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,j){var k=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(c){for(var d=[],c=c.split(""),b=0;b<c.length;b++)d.push("[",c[b].toLowerCase(),c[b].toUpperCase(),"]");return d.join("")}var d=g.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
b=g.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=g.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
f=g.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),j=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return d.hasOwnProperty(a.toLowerCase())?"support.type":b.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":f.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
i=g.copyArray(j);i.unshift({token:"rparen",regex:"\\}",next:"start"});j=g.copyArray(j);j.unshift({token:"rparen",regex:"\\}",next:"media"});var k=[{token:"comment",merge:!0,regex:".+"}],o=g.copyArray(k);o.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var p=g.copyArray(k);p.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});k=g.copyArray(k);k.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:o,ruleset:i,ruleset_comment:k,media_ruleset:j,media_comment:p}};k.inherits(a,f);j.CssHighlightRules=a});
define("ace/mode/html_highlight_rules","require,exports,module,pilot/oop,ace/mode/css_highlight_rules,ace/mode/javascript_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/css_highlight_rules").CssHighlightRules,f=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,a=b("ace/mode/text_highlight_rules").TextHighlightRules,c=function(){function a(c,d){return[{token:"string",merge:!0,regex:".*"+c,next:d},{token:"string",merge:!0,regex:".+"}]}
function c(b,f,h){b[f]=[{token:"text",regex:"\\s+"},{token:"meta.tag",regex:"[-_a-zA-Z0-9:]+",next:f+"-attribute-list"},{token:"empty",regex:"",next:f+"-attribute-list"}];b[f+"-qstring"]=a("'",f);b[f+"-qqstring"]=a('"',f);b[f+"-attribute-list"]=[{token:"text",regex:">",next:h},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",
merge:!0,regex:'["].*$',next:f+"-qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:f+"-qstring"}])}this.$rules={start:[{token:"text",merge:!0,regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<(?=s*script)",next:"script"},{token:"text",regex:"<(?=s*style)",next:"css"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],
cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",merge:!0,regex:"\\s+"},{token:"text",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};c(this.$rules,"tag","start");c(this.$rules,"css","css-start");c(this.$rules,"script","js-start");this.embedRules(f,"js-",[{token:"comment",regex:"\\/\\/.*(?=<\\/script>)",next:"tag"},{token:"text",regex:"<\\/(?=script)",next:"tag"}]);this.embedRules(g,"css-",[{token:"text",regex:"<\\/(?=style)",
next:"tag"}])};k.inherits(c,a);j.HtmlHighlightRules=c});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,d,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),d=e.doc.getLine(a.row),
d.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),d=e.doc.getLine(a.row),d.substring(a.column,a.column+2)=="</"))return d=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+d+"\n"+e,selection:[1,d.length,1,d.length]};return!1})};k.inherits(a,g);j.XmlBehaviour=a});define("ace/mode/xml","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/xml_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/xml_highlight_rules").XmlHighlightRules,c=b("ace/mode/behaviour/xml").XmlBehaviour,d=function(){this.$tokenizer=new f((new a).getRules());this.$behaviour=new c};k.inherits(d,g);(function(){this.getNextLineIndent=function(a,c){return this.$getIndent(c)}}).call(d.prototype);
j.Mode=d});
define("ace/mode/xml_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],tag:[{token:"text",regex:">",
next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"},{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*$',next:"qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:"qstring"}],qstring:[{token:"string",regex:".*'",next:"tag"},{token:"string",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'.*"',next:"tag"},{token:"string",merge:!0,regex:".+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},
{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};k.inherits(f,g);j.XmlHighlightRules=f});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,d,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),d=e.doc.getLine(a.row),
d.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),d=e.doc.getLine(a.row),d.substring(a.column,a.column+2)=="</"))return d=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+d+"\n"+e,selection:[1,d.length,1,d.length]};return!1})};k.inherits(a,g);j.XmlBehaviour=a});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,j){var k=b("pilot/oop"),g=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,b,f,e){if(e=="{")return a=b.getSelectionRange(),f=f.doc.getTextRange(a),f!==""?{text:"{"+f+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(b=b.getCursorPosition(),c=f.doc.getLine(b.row),e=c.substring(b.column,b.column+1),e=="}"&&f.$findOpeningBracket("}",{column:b.column+
1,row:b.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(b=b.getCursorPosition(),c=f.doc.getLine(b.row),e=c.substring(b.column,b.column+1),e=="}")){b=f.findMatchingBracket({row:b.row,column:b.column+1});if(!b)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),f.getTabString());f=this.$getIndent(f.doc.getLine(b.row));return{text:"\n"+a+"\n"+f,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,b,d,f,e){a=f.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&f.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,b,d,f,e){if(e=="(")return a=d.getSelectionRange(),f=f.doc.getTextRange(a),f!==""?{text:"("+f+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=d.getCursorPosition(),f.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&f.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,b,d,f,e){a=f.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,b,d,f,e){if(e=='"'){a=d.getSelectionRange();b=f.doc.getTextRange(a);if(b!=="")return{text:'"'+b+'"',selection:!1};d=d.getCursorPosition();b=f.doc.getLine(d.row);if(b.substring(d.column-1,d.column)=="\\")return!1;for(var f=f.getTokens(a.start.row,a.start.row)[0].tokens,e=0,g,
j=-1,i=0;i<f.length;i++){g=f[i];g.type=="string"?j=-1:j<0&&(j=g.value.indexOf('"'));if(g.value.length+e>a.start.column)break;e+=f[i].value.length}if(!g||j<0&&g.type!=="comment"&&(g.type!=="string"||a.start.column!==g.value.length+e-1&&g.value.lastIndexOf('"')===g.value.length-1))return{text:'""',selection:[1,1]};if(g&&g.type==="string"&&b.substring(d.column,d.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,b,d,f,e){a=f.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,g);j.CstyleBehaviour=f});define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,j){var k=b("pilot/oop"),g=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/worker/worker_client").WorkerClient,h=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new c};k.inherits(h,g);(function(){this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),a=this.$tokenizer.getLineTokens(b,a).tokens;return a.length&&a[a.length-1].type=="comment"?d:(b.match(/^.*\{\s*$/)&&(d+=c),d)};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)};this.createWorker=function(a){var b=a.getDocument(),c=new d(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");c.call("setValue",
[b.getValue()]);b.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};c.emit("change",a)});c.on("csslint",function(b){var c=[];b.data.forEach(function(a){c.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(c)})}}).call(h.prototype);j.Mode=h});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,j){var k=b("pilot/oop"),g=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(b){for(var c=[],b=b.split(""),d=0;d<b.length;d++)c.push("[",b[d].toLowerCase(),b[d].toUpperCase(),"]");return c.join("")}var b=g.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
f=g.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=g.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
j=g.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),k=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return b.hasOwnProperty(a.toLowerCase())?"support.type":f.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":j.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
i=g.copyArray(k);i.unshift({token:"rparen",regex:"\\}",next:"start"});k=g.copyArray(k);k.unshift({token:"rparen",regex:"\\}",next:"media"});var n=[{token:"comment",merge:!0,regex:".+"}],o=g.copyArray(n);o.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var p=g.copyArray(n);p.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});n=g.copyArray(n);n.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:o,ruleset:i,ruleset_comment:n,media_ruleset:k,media_comment:p}};k.inherits(a,f);j.CssHighlightRules=a});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,j){var k=b("ace/range").Range,g=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(g.prototype);j.MatchingBraceOutdent=g});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,j){var k=b("pilot/oop"),g=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,f){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var g=a[c],j=this.$normalizePath(b.nameToUrl(g,null,"_").replace(/.js$/,""));e[g]=j}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:f});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var b=i.callbacks[a.id];b&&(b(a.data),delete i.callbacks[a.id])}}};(function(){k.implement(this,g);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],f=d.getAttribute("data-ace-base");if(f)return f.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,d){if(d){var f=this.callbackId++;this.callbacks[f]=d;b.push(f)}this.send(a,b)};this.emit=function(a,b){this.$worker.postMessage({event:a,data:b})}}).call(f.prototype);j.WorkerClient=f});namespace.module("com.pageforest.editor.ace",function(b){var j,k=!1,g=window.require("ace/mode/javascript").Mode,f=window.require("ace/mode/javascript").Mode,a=window.require("ace/mode/css").Mode,c=window.require("ace/mode/html").Mode,d=window.require("ace/mode/xml").Mode;b.extend({createEditor:function(){$("#ace").css("height",window.innerHeight-43+"px");$("#ace").css("width",window.innerWidth+"px");j=ace.edit("ace");j.renderer.$horizScrollAlwaysVisible=!1},loadFile:function(b,e){var k=b.toLowerCase();
k.substr(-5)==".html"?j.getSession().setMode(new c):k.substr(-4)==".xml"?j.getSession().setMode(new d):k.substr(-3)==".js"?j.getSession().setMode(new g):k.substr(-5)==".json"?j.getSession().setMode(new f):k.substr(-4)==".css"?j.getSession().setMode(new a):j.getSession().setMode(new c);j.getSession().setValue(e)},adjustHeight:function(){console.log("adjustHeight() from ace")},getData:function(){return j.getSession().getValue()},editor:j,view:function(a){return a=="show"?(k=!0,$("#ace").css("visibility",
"visible"),!0):a=="hide"?(k=!1,$("#ace").css("visibility","hidden"),!1):k}})});