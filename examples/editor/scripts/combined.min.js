(function(b){function i(){}function k(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function h(a){for(var a=a.replace(/-/g,"_"),a=a.split("."),c=f,d=0;d<a.length;d++)c[a[d]]===void 0&&(c[a[d]]=new i),c=c[a[d]];return c}var f=b.namespace;if(f){if(k("3.0.1")<=k(f.VERSION))return;i=f.constructor}else b.namespace=f=new i;f.VERSION="3.0.1";b=i.prototype;b.module=function(a,c){var d=h(a);c&&c(d,h);return d};b.extend=function(a){for(var c in a)a.hasOwnProperty(c)&&
(this[c]=a[c])}})(this);
namespace.module("org.startpad.types",function(b){function i(a,c){return k(a)==c}function k(a){if(a===void 0)return"undefined";if(a===null)return"null";var c=Object.prototype.toString.call(a).match(/\[object (.*)\]/)[1].toLowerCase();f.indexOf(c)==-1&&(c=typeof a);return c}function h(a){var c=[],e;for(e in a)a.hasOwnProperty(e)&&c.push(e);return c}b.extend({VERSION:"0.2.2",isArguments:function(a){return i(a,"arguments")},isArray:function(a){return i(a,"array")},copyArray:function(a){return Array.prototype.slice.call(a)},isType:i,
typeOf:k,extend:function(d){var g,e,b,m;d===void 0&&(d={});for(g=1;g<arguments.length;g++){b=arguments[g];for(m in b)b.hasOwnProperty(m)&&(d[m]=b[m]);if(a)for(e=0;e<c.length;e++)m=c[e],b.hasOwnProperty(m)&&(d[m]=b[m])}return d},project:function(a,c){var e={};typeof c=="string"&&(c=[c]);for(var b=0;b<c.length;b++){var m=c[b];a&&a.hasOwnProperty(m)&&(e[m]=a[m])}return e},getFunctionName:function(a){if(typeof a=="function")return a=a.toString().match(/function\s*(\S+)\s*\(/),!a?"":a[1]},keys:Object.keys||
h,patch:function(){Object.keys=Object.keys||h;return b}});var f="number,string,boolean,array,function,date,regexp,arguments,undefined,null".split(","),a=!{toString:!0}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","constructor","isPrototypeOf"]});
namespace.module("org.startpad.funcs",function(b,i){function k(a){if(!a)return 0;a=a.split(".");return 1E4*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2])}function h(a,c,d,e){if(!(a._patches&&k(a._patches[c])>=k(d)))a._patches=a._patches||{},a._patches[c]=d,f(a,e)}function f(a,c){l.extend(a.prototype,c)}function a(a,c){function d(a,c){for(var e=l.copyArray(a),c=l.copyArray(c),g=0;g<e.length;g++)e[g]===void 0&&(e[g]=c.shift());return e.concat(c)}var e;e=arguments.length==3&&l.isArguments(arguments[2])?
Array.prototype.slice.call(arguments[2],self1):Array.prototype.slice.call(arguments,2);return function(){return a.apply(c||this,d(e,arguments))}}function c(a,c){function d(){return c.call(this,a,arguments,d)}c.call(a,void 0,arguments,d);return d}function d(a){function c(){}c.prototype=a;return new c}function g(a,c,d){a.prototype=b.create(c.prototype);a.prototype.constructor=a;f(a,d);return a}function e(a,c){for(var d=a.pop().prototype,e;a.length>0;){e=a.pop();var g=l.getFunctionName(e),h=b.create(d);
l.extend(h,e.prototype);h.constructor=e;h[g+"_super"]=d;d=h}e.prototype=d;f(e,c)}var l=i("org.startpad.types");b.extend({VERSION:"0.3.1",methods:f,bind:a,decorate:c,create:Object.create||d,subclass:g,mro:e,numericVersion:k,monkeyPatch:h,patch:function(){if(!Object.create)Object.create=d;h(Function,"org.startpad.funcs",b.VERSION,{methods:function(a){f(this,a)},curry:function(){var c=[this,void 0].concat(l.copyArray(arguments));return a.apply(void 0,c)},curryThis:function(c){var d=l.copyArray(arguments);
d.unshift(this);return a.apply(void 0,d)},decorate:function(a){return c(this,a)},subclass:function(a,c){g(this,a,c)},mro:function(a,c){a.unshift(this);e(a,c)}});return b}})});
namespace.module("org.startpad.string",function(b,i){function k(a,c,d){d=d||f;if(a==void 0)return"undefined";a=a.toString();return a=a.replace(d,function(a,d){for(var b=c,f=d.split("."),o=0;o<f.length;o++){var d=f[o],n=parseInt(d),b=isNaN(n)?b[d]:b[n];if(b==void 0)return""}return b})}var h=i("org.startpad.funcs");b.extend({VERSION:"0.3.0",patch:function(){h.monkeyPatch(String,"org.startpad.string",b.VERSION,{format:function(){return arguments.length==1&&typeof arguments[0]=="object"?k(this,arguments[0]):
k(this,arguments)}});return b},format:k,strip:function(a){return(a||"").replace(/^\s+|\s+$/g,"")}});var f=/\{\s*([^} ]+)\s*\}/g});namespace.module("com.pageforest.editor",function(b){function i(a){$("#status").text(a)}function k(a){i(a.status+" "+a.statusText)}function h(){var a=[];a.push('<a href="#">apps</a>');a.push('<span class="quiet">/</span>');if(j.app_id){a.push('<a href="#'+j.app_id+'">'+j.app_id+"</a>");a.push('<span class="quiet">/</span>');for(var c="#"+j.app_id+"/",d=j.filename.split("/"),e=0;d[e];e++){var g=d[e];c+=g;e<d.length-1&&(c+="/");a.push('<a href="'+c+'">'+g+"</a>");c.substr(-1)=="/"&&a.push('<span class="quiet">/</span>')}}$("#breadcrumbs").html(a.join("\n"))}
function f(){j.editor.view("hide");var a=j.filename;a.substr(-1)=="/"&&(a=a.substr(0,a.length-1));console.log("showFiles: "+j.listing+" "+a);var c=[],d=a;d.substr(-1)=="/"&&(d=d.substr(0,d.length-1));var e=d.length||-1,g=[],b;for(b in j.listing)if(j.listing.hasOwnProperty(b)&&(d==""||b.charAt(e)=="/"&&b.substr(0,d.length)==d)){var f=b.substr(e+1).split("/");f.length==1?g.push(f[0]):(f=f[0]+"/",g.indexOf(f)==-1&&g.push(f))}for(d=0;d<g.length;d++){e=g[d];b=j.app_id+"/"+(a?a+"/":"")+e;f=b;if(f.substr(-1)==
"/")f='<img width="83" height="64" src="/icons/64/folder.png" alt="" />';else if(f.substr(-4)==".png")f='<img height="64" src="/mirror/'+f+'" alt="" />';else{var l="txt",m=f.lastIndexOf(".");m>0&&(l=f.substr(m+1).toLowerCase(),l=="json"&&(l="js"));f='<img width="54" height="64" src="/icons/64/'+l+'.png" alt="" />'}c.push('<div class="icon">');c.push('<a href="#'+b+'">'+f+"</a><br />");c.push('<a href="#'+b+'">'+e+"</a>");c.push("</div>")}g="/mirror/"+j.app_id+"/post?path="+a;c.push('<div style="width:100%; height:10em; clear:both">');
c.push('<iframe class="upload" src="'+g+'" style="width:100%; height:100%; border:none"></iframe>');c.push("</div>");$("#content").html(c.join("\n"));i("Loaded directory: "+j.app_id+"/"+a)}function a(){j.app_id="";console.log("loadAppList");$.ajax({url:"/mirror?method=list",dataType:"json",success:function(a){h();j.appListing=a.items;if(!j.app_id){j.editor.view("hide");var a=[],c;for(c in j.appListing)if(j.appListing.hasOwnProperty(c)){var d=j.appListing[c].icon?'<img width="64" height="64" src="/mirror/'+
c+"/"+j.appListing[c].icon+'" alt="" />':'<img width="83" height="64" src="/icons/64/folder.png" alt="" />';a.push('<div class="icon">');a.push('<a href="#'+c+'">'+d+"</a><br />");a.push('<a href="#'+c+'">'+c+"</a>");a.push("</div>")}$("#content").html(a.join("\n"));i("Loaded app list")}},error:function(a,c,d){a.status==403?($("#content").empty(),$("#status").html('<span class="error">Please sign in to edit your apps.</span>')):k(a,c,d)}})}function c(a){j.app_id=a;$.ajax({url:"/mirror/"+j.app_id+
"?method=list&depth=0",dataType:"json",error:k,success:function(a){h();j.listing=a.items;(!j.filename||j.filename.substr(-1)=="/")&&f()}})}function d(a){j.filename=a;a==""||a.substr(-1)=="/"?f():$.ajax({url:"/mirror/"+j.app_id+"/"+j.filename,dataType:"text",error:k,success:function(a){h();q=a;$("#content").empty();j.editor.loadFile(j.filename,a);j.editor.adjustHeight("shrink");j.editor.view("show");i("Loaded file: "+j.filename)}})}function g(){var a=$("iframe.upload")[0];a&&(a=a.contentWindow.document.body.innerHTML.replace(/<\/?[^>]+>\s*/gi,
""),a.substr(0,1)=="{"&&JSON.parse(a).status==200&&c(j.app_id))}function e(){var e=window.location.hash;if(e==j.hash)j.editor.view()&&j.editor.adjustHeight();else{j.hash=e;var g=e.substr(1).split("/");console.log("parts: ["+g+"]");e=g.shift();g=g.join("/");console.log("app_id: ["+e+"]");if(e)if(e!=j.app_id){if(o())c(e),g?d(g):j.filename=""}else g!=j.filename&&o()&&d(g);else o()&&a()}}function l(){for(var a=$("#settings").find("input"),c,d=0;d<a.length;d++)if(a[d].checked)c=a[d].value;j.editor.view()?
(a=j.editor.getData(),j.editor.view("hide"),j.editor=j[c],j.editor.loadFile(j.filename,a),j.editor.view("show")):j.editor=j[c]}function m(){j.client.state=="dirty"?console.log("checkDirty()   document already dirty, returning..."):j.editor.view()?q!=j.editor.getData()?(console.log("setting doc dirty!"),n("save"),j.client.setDirty()):console.log("checkDirty()  no changes, document clean"):console.log("checkDirty()   not viewing a file")}function o(){if(!j.editor.view()||j.client.state!="dirty")return!0;
if(confirm("There is unsaved data that will be lost.  Do you wish to continue?"))return j.client.setDirty(!1),n("saved"),!0;window.location.href="http://"+window.location.hostname+"#"+j.app_id+"/"+j.filename;return!1}function n(a){var c=$("#save");a=="save"?(c.attr("value","Save"),c[0].disabled=!1):a=="saved"?(c.attr("value","Saved"),c[0].disabled=!0):console.log("handleSaveButton() passed with invalid arguments: "+a)}function p(){var a=$("#ace"),c=$("#textarea");a.css("height",window.innerHeight-
43+"px");a.css("width",window.innerWidth+"px");c.css("height",window.innerHeight-43+"px");c.css("width",window.innerWidth-15+"px")}var j={},q;b.extend({onReady:function(){var a=namespace.lookup("com.pageforest.client");j.client=new a.Client(b);j.client.saveInterval=0;j.client.state="clean";j.hash="###";j.app_id="";j.filename="";setInterval(e,200);setInterval(g,1E3);setInterval(m,1E3);j.ace=namespace.lookup("com.pageforest.editor.ace");j.ace.createEditor();j.ace.view("hide");j.textarea=namespace.lookup("com.pageforest.editor.textarea");
j.textarea.view("hide");var a=j,c;c=!1;/Android|iPad|iPod|iPhone/.test(navigator.userAgent)&&(c=!0);c?($("#editor").val("textarea"),c=j.textarea):($("#editor").val("ace"),c=j.ace);a.editor=c;$(window).bind("resize",p);$("#editor").change(l);$("#settings").find("input").change(l);$("#settings").find("input").click(l)},onSave:function(){q=j.editor.getData();$.ajax({type:"PUT",url:"/mirror/"+j.app_id+"/"+j.filename,data:q,dataType:"text",success:function(a){j.client.setDirty(!1);i(a);n("saved")},error:k})},
onUserChange:function(c){console.log("onUserChange("+c+");");c==void 0?($("#username").text("anonymous"),$("#signin").text("Sign in").attr("href","http://www.pageforest.com/sign-in/editor")):($("#username").text(c),$("#signin").text("Sign out").attr("href","http://www.pageforest.com/sign-out/editor"));j.app_id||a()},onSignInOut:function(){j.client.username!=void 0?j.client.signOut():j.client.signIn()},appListing:j.appListing,listing:j.listing,app_id:j.app_id,filename:j.filename,editor:j.editor,hash:j.hash,
client:j.client})});namespace.module("com.pageforest.editor.textarea",function(b){function i(b){console.log("adjustScroll event: ",b)}var k=!1;b.extend({createEditor:function(){},loadFile:function(b,f){var a=$('<textarea id="code" spellcheck="false" autocorrect="off" ></textarea>');$("#textarea").empty().append(a);a.val(f).focus();a.bind("touchstart",i)},adjustHeight:function(b){console.log("adjustHeight() within textarea");for(var f=$("#code"),a=f.attr("scrollHeight"),c=f.attr("offsetHeight");b&&c&&a==c;)f.css("height",
c/2+"px"),a=f.attr("scrollHeight"),c=f.attr("offsetHeight");a>c&&f.css("height",a+"px")},getData:function(){return $("#textarea").find("textarea").val()},view:function(b){return b=="show"?(k=!0,$("#textarea").css("display","block"),!0):b=="hide"?(k=!1,$("#textarea").css("display","none"),!1):k}})});define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/range").Range,g=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new c;this.$behaviour=new e};k.inherits(l,h);(function(){this.toggleCommentLines=function(a,c,e,g){for(var b=!0,a=/^(\s*)\/\//,f=e;f<=g;f++)if(!a.test(c.getLine(f))){b=!1;break}if(b){b=new d(0,0,0,0);for(f=e;f<=g;f++)e=c.getLine(f).match(a),b.start.row=f,b.end.row=f,b.end.column=e[0].length,c.replace(b,e[1])}else c.indentRows(e,g,"//")};this.getNextLineIndent=function(a,c,d){var e=
this.$getIndent(c),g=this.$tokenizer.getLineTokens(c,a),b=g.tokens,g=g.state;if(b.length&&b[b.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=c.match(/^.*[\{\(\[\:]\s*$/))&&(e+=d);else if(a=="doc-start"){if(g=="start"||a=="regex_allowed")return"";(a=c.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=
a.getDocument(),d=new g(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return d.call("setValue",[c.getValue()]),c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};d.emit("change",a)}),d.on("jslint",function(c){for(var d=[],e=0;e<c.data.length;e++){var g=c.data[e];g&&d.push({row:g.line-1,column:g.character-1,text:g.reason,type:"warning",lint:g})}a.setAnnotations(d)}),d.on("narcissus",function(c){a.setAnnotations([c.data])}),d.on("terminate",
function(){a.clearAnnotations()}),d}}).call(l.prototype);i.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var k=b("pilot/oop"),h=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,c=b("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var c=h.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),d=
h.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=h.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),m="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+m+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":c.hasOwnProperty(a)?"keyword":d.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:m},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};k.inherits(d,c);i.JavaScriptHighlightRules=d});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};k.inherits(f,h);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);i.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var k=b("ace/range").Range,h=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(h.prototype);i.MatchingBraceOutdent=h});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var k=b("pilot/oop"),h=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,g){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var f=a[c],m=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=m}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:g});this.callbackId=1;this.callbacks={};var h=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":h._dispatchEvent(a.name,{data:a.data});break;case "call":var c=h.callbacks[a.id];c&&(c(a.data),delete h.callbacks[a.id])}}};(function(){k.implement(this,h);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],g=d.getAttribute("data-ace-base");if(g)return g.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,c){this.$worker.postMessage({command:a,args:c})};this.call=function(a,c,d){if(d){var g=this.callbackId++;this.callbacks[g]=d;c.push(g)}this.send(a,c)};this.emit=function(a,c){this.$worker.postMessage({event:a,data:c})}}).call(f.prototype);i.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,d,g,e){if(e=="{")return a=d.getSelectionRange(),g=g.doc.getTextRange(a),g!==""?{text:"{"+g+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(d=d.getCursorPosition(),c=g.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}"&&g.$findOpeningBracket("}",{column:d.column+
1,row:d.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(d=d.getCursorPosition(),c=g.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}")){d=g.findMatchingBracket({row:d.row,column:d.column+1});if(!d)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),g.getTabString());g=this.$getIndent(g.doc.getLine(d.row));return{text:"\n"+a+"\n"+g,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,c,d,g,e){a=g.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&g.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,c,d,g,e){if(e=="(")return a=d.getSelectionRange(),g=g.doc.getTextRange(a),g!==""?{text:"("+g+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=d.getCursorPosition(),g.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&g.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,c,d,g,e){a=g.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&g.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,c,d,g,e){if(e=='"'){a=d.getSelectionRange();c=g.doc.getTextRange(a);if(c!=="")return{text:'"'+c+'"',selection:!1};d=d.getCursorPosition();c=g.doc.getLine(d.row);if(c.substring(d.column-1,d.column)=="\\")return!1;for(var g=g.getTokens(a.start.row,a.start.row)[0].tokens,e=0,b,
f=-1,h=0;h<g.length;h++){b=g[h];b.type=="string"?f=-1:f<0&&(f=b.value.indexOf('"'));if(b.value.length+e>a.start.column)break;e+=g[h].value.length}if(!b||f<0&&b.type!=="comment"&&(b.type!=="string"||a.start.column!==b.value.length+e-1&&b.value.lastIndexOf('"')===b.value.length-1))return{text:'""',selection:[1,1]};if(b&&b.type==="string"&&c.substring(d.column,d.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,h);i.CstyleBehaviour=f});define("ace/mode/html","require,exports,module,pilot/oop,ace/mode/text,ace/mode/javascript,ace/mode/css,ace/tokenizer,ace/mode/html_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/mode/javascript").Mode,a=b("ace/mode/css").Mode,c=b("ace/tokenizer").Tokenizer,d=b("ace/mode/html_highlight_rules").HtmlHighlightRules,g=b("ace/mode/behaviour/xml").XmlBehaviour,e=function(){var e=new d;this.$tokenizer=new c(e.getRules());this.$behaviour=
new g;this.$embeds=e.getEmbeds();this.createModeDelegates({"js-":f,"css-":a})};k.inherits(e,h);(function(){this.toggleCommentLines=function(){return 0};this.getNextLineIndent=function(a,c){return this.$getIndent(c)};this.checkOutdent=function(){return!1}}).call(e.prototype);i.Mode=e});
define("ace/mode/javascript","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/javascript_highlight_rules,ace/mode/matching_brace_outdent,ace/range,ace/worker/worker_client,ace/mode/behaviour/cstyle".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/range").Range,g=b("ace/worker/worker_client").WorkerClient,
e=b("ace/mode/behaviour/cstyle").CstyleBehaviour,l=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=new c;this.$behaviour=new e};k.inherits(l,h);(function(){this.toggleCommentLines=function(a,c,e,b){for(var g=!0,a=/^(\s*)\/\//,f=e;f<=b;f++)if(!a.test(c.getLine(f))){g=!1;break}if(g){g=new d(0,0,0,0);for(f=e;f<=b;f++)e=c.getLine(f).match(a),g.start.row=f,g.end.row=f,g.end.column=e[0].length,c.replace(g,e[1])}else c.indentRows(e,b,"//")};this.getNextLineIndent=function(a,c,d){var e=
this.$getIndent(c),b=this.$tokenizer.getLineTokens(c,a),g=b.tokens,b=b.state;if(g.length&&g[g.length-1].type=="comment")return e;if(a=="start"||a=="regex_allowed")(a=c.match(/^.*[\{\(\[\:]\s*$/))&&(e+=d);else if(a=="doc-start"){if(b=="start"||a=="regex_allowed")return"";(a=c.match(/^\s*(\/?)\*/))&&(a[1]&&(e+=" "),e+="* ")}return e};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=
a.getDocument(),d=new g(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");return d.call("setValue",[c.getValue()]),c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};d.emit("change",a)}),d.on("jslint",function(c){for(var d=[],e=0;e<c.data.length;e++){var b=c.data[e];b&&d.push({row:b.line-1,column:b.character-1,text:b.reason,type:"warning",lint:b})}a.setAnnotations(d)}),d.on("narcissus",function(c){a.setAnnotations([c.data])}),d.on("terminate",
function(){a.clearAnnotations()}),d}}).call(l.prototype);i.Mode=l});
define("ace/mode/javascript_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/unicode,ace/mode/doc_comment_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var k=b("pilot/oop"),h=b("pilot/lang"),f=b("ace/unicode"),a=b("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,c=b("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var c=h.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),d=
h.arrayToMap("null|Infinity|NaN|undefined".split("|")),b=h.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),i="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new a).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",
merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(function)(\\s+)("+i+")"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield)\\b",
next:"regex_allowed"},{token:function(a){return a=="this"?"variable.language":c.hasOwnProperty(a)?"keyword":d.hasOwnProperty(a)?"constant.language":b.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier"},regex:i},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},
{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",
regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]};this.embedRules(a,"doc-",[(new a).getEndRule("start")])};k.inherits(d,c);i.JavaScriptHighlightRules=d});
define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};k.inherits(f,h);(function(){this.getStartRule=
function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}};this.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}}}).call(f.prototype);i.DocCommentHighlightRules=f});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var k=b("ace/range").Range,h=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(h.prototype);i.MatchingBraceOutdent=h});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var k=b("pilot/oop"),h=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,g){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var f=a[c],h=this.$normalizePath(b.nameToUrl(f,null,"_").replace(/.js$/,""));e[f]=h}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:g});this.callbackId=1;this.callbacks={};var i=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":i._dispatchEvent(a.name,{data:a.data});break;case "call":var c=i.callbacks[a.id];c&&(c(a.data),delete i.callbacks[a.id])}}};(function(){k.implement(this,h);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],g=d.getAttribute("data-ace-base");if(g)return g.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,c){this.$worker.postMessage({command:a,args:c})};this.call=function(a,c,d){if(d){var b=this.callbackId++;this.callbacks[b]=d;c.push(b)}this.send(a,c)};this.emit=function(a,c){this.$worker.postMessage({event:a,data:c})}}).call(f.prototype);i.WorkerClient=f});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,d,b,e){if(e=="{")return a=d.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"{"+b+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}"&&b.$findOpeningBracket("}",{column:d.column+
1,row:d.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}")){d=b.findMatchingBracket({row:d.row,column:d.column+1});if(!d)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),b.getTabString());b=this.$getIndent(b.doc.getLine(d.row));return{text:"\n"+a+"\n"+b,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&b.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,c,d,b,e){if(e=="(")return a=d.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"("+b+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=d.getCursorPosition(),b.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&b.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,c,d,b,e){a=b.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,c,d,b,e){if(e=='"'){a=d.getSelectionRange();c=b.doc.getTextRange(a);if(c!=="")return{text:'"'+c+'"',selection:!1};d=d.getCursorPosition();c=b.doc.getLine(d.row);if(c.substring(d.column-1,d.column)=="\\")return!1;for(var b=b.getTokens(a.start.row,a.start.row)[0].tokens,e=0,f,
h=-1,i=0;i<b.length;i++){f=b[i];f.type=="string"?h=-1:h<0&&(h=f.value.indexOf('"'));if(f.value.length+e>a.start.column)break;e+=b[i].value.length}if(!f||h<0&&f.type!=="comment"&&(f.type!=="string"||a.start.column!==f.value.length+e-1&&f.value.lastIndexOf('"')===f.value.length-1))return{text:'""',selection:[1,1]};if(f&&f.type==="string"&&c.substring(d.column,d.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,c,d,b,e){a=b.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&b.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,h);i.CstyleBehaviour=f});
define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/worker/worker_client").WorkerClient,g=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new c};k.inherits(g,h);(function(){this.getNextLineIndent=function(a,c,d){var b=this.$getIndent(c),a=this.$tokenizer.getLineTokens(c,a).tokens;return a.length&&a[a.length-1].type=="comment"?b:(c.match(/^.*\{\s*$/)&&(b+=d),b)};this.checkOutdent=function(a,c,d){return this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(a,c,d){this.$outdent.autoOutdent(c,d)};this.createWorker=function(a){var c=a.getDocument(),b=new d(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");b.call("setValue",
[c.getValue()]);c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};b.emit("change",a)});b.on("csslint",function(c){var d=[];c.data.forEach(function(a){d.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(d)})}}).call(g.prototype);i.Mode=g});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,i){var k=b("pilot/oop"),h=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(c){for(var d=[],c=c.split(""),b=0;b<c.length;b++)d.push("[",c[b].toLowerCase(),c[b].toUpperCase(),"]");return d.join("")}var d=h.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
b=h.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=h.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
f=h.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),i=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return d.hasOwnProperty(a.toLowerCase())?"support.type":b.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":f.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
k=h.copyArray(i);k.unshift({token:"rparen",regex:"\\}",next:"start"});i=h.copyArray(i);i.unshift({token:"rparen",regex:"\\}",next:"media"});var n=[{token:"comment",merge:!0,regex:".+"}],p=h.copyArray(n);p.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var j=h.copyArray(n);j.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});n=h.copyArray(n);n.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:p,ruleset:k,ruleset_comment:n,media_ruleset:i,media_comment:j}};k.inherits(a,f);i.CssHighlightRules=a});
define("ace/mode/html_highlight_rules","require,exports,module,pilot/oop,ace/mode/css_highlight_rules,ace/mode/javascript_highlight_rules,ace/mode/text_highlight_rules".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/css_highlight_rules").CssHighlightRules,f=b("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,a=b("ace/mode/text_highlight_rules").TextHighlightRules,c=function(){function a(c,d){return[{token:"string",merge:!0,regex:".*"+c,next:d},{token:"string",merge:!0,regex:".+"}]}
function c(b,g,f){b[g]=[{token:"text",regex:"\\s+"},{token:"meta.tag",regex:"[-_a-zA-Z0-9:]+",next:g+"-attribute-list"},{token:"empty",regex:"",next:g+"-attribute-list"}];b[g+"-qstring"]=a("'",g);b[g+"-qqstring"]=a('"',g);b[g+"-attribute-list"]=[{token:"text",regex:">",next:f},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",
merge:!0,regex:'["].*$',next:g+"-qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:g+"-qstring"}])}this.$rules={start:[{token:"text",merge:!0,regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<(?=s*script)",next:"script"},{token:"text",regex:"<(?=s*style)",next:"css"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],
cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",merge:!0,regex:"\\s+"},{token:"text",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};c(this.$rules,"tag","start");c(this.$rules,"css","css-start");c(this.$rules,"script","js-start");this.embedRules(f,"js-",[{token:"comment",regex:"\\/\\/.*(?=<\\/script>)",next:"tag"},{token:"text",regex:"<\\/(?=script)",next:"tag"}]);this.embedRules(h,"css-",[{token:"text",regex:"<\\/(?=style)",
next:"tag"}])};k.inherits(c,a);i.HtmlHighlightRules=c});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,d,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),d=e.doc.getLine(a.row),
d.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),d=e.doc.getLine(a.row),d.substring(a.column,a.column+2)=="</"))return d=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+d+"\n"+e,selection:[1,d.length,1,d.length]};return!1})};k.inherits(a,h);i.XmlBehaviour=a});define("ace/mode/xml","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/xml_highlight_rules,ace/mode/behaviour/xml".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/xml_highlight_rules").XmlHighlightRules,c=b("ace/mode/behaviour/xml").XmlBehaviour,d=function(){this.$tokenizer=new f((new a).getRules());this.$behaviour=new c};k.inherits(d,h);(function(){this.getNextLineIndent=function(a,c){return this.$getIndent(c)}}).call(d.prototype);
i.Mode=d});
define("ace/mode/xml_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],tag:[{token:"text",regex:">",
next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"},{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*$',next:"qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:"qstring"}],qstring:[{token:"string",regex:".*'",next:"tag"},{token:"string",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'.*"',next:"tag"},{token:"string",merge:!0,regex:".+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},
{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};k.inherits(f,h);i.XmlHighlightRules=f});
define("ace/mode/behaviour/xml","require,exports,module,pilot/oop,ace/mode/behaviour,ace/mode/behaviour/cstyle".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/behaviour").Behaviour,f=b("ace/mode/behaviour/cstyle").CstyleBehaviour,a=function(){this.inherit(f,["string_dquotes"]);this.add("brackets","insertion",function(a,d,b,e,f){if(f=="<")return a=b.getSelectionRange(),e.doc.getTextRange(a)!==""?!1:{text:"<>",selection:[1,1]};if(f==">"){if(a=b.getCursorPosition(),d=e.doc.getLine(a.row),
d.substring(a.column,a.column+1)==">")return{text:"",selection:[1,1]}}else if(f=="\n"&&(a=b.getCursorPosition(),d=e.doc.getLine(a.row),d.substring(a.column,a.column+2)=="</"))return d=this.$getIndent(e.doc.getLine(a.row))+e.getTabString(),e=this.$getIndent(e.doc.getLine(a.row)),{text:"\n"+d+"\n"+e,selection:[1,d.length,1,d.length]};return!1})};k.inherits(a,h);i.XmlBehaviour=a});
define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(b,i){var k=b("pilot/oop"),h=b("ace/mode/behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,c,d,b,e){if(e=="{")return a=d.getSelectionRange(),b=b.doc.getTextRange(a),b!==""?{text:"{"+b+"}",selection:!1}:{text:"{}",selection:[1,1]};if(e=="}"){if(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}"&&b.$findOpeningBracket("}",{column:d.column+
1,row:d.row})!==null)return{text:"",selection:[1,1]}}else if(e=="\n"&&(d=d.getCursorPosition(),c=b.doc.getLine(d.row),e=c.substring(d.column,d.column+1),e=="}")){d=b.findMatchingBracket({row:d.row,column:d.column+1});if(!d)return!1;a=this.getNextLineIndent(a,c.substring(0,c.length-1),b.getTabString());b=this.$getIndent(b.doc.getLine(d.row));return{text:"\n"+a+"\n"+b,selection:[1,a.length,1,a.length]}}return!1});this.add("braces","deletion",function(a,c,b,f,e){a=f.doc.getTextRange(e);return!e.isMultiLine()&&
a=="{"&&f.doc.getLine(e.start.row).substring(e.end.column,e.end.column+1)=="}"?(e.end.column++,e):!1});this.add("parens","insertion",function(a,c,b,f,e){if(e=="(")return a=b.getSelectionRange(),f=f.doc.getTextRange(a),f!==""?{text:"("+f+")",selection:!1}:{text:"()",selection:[1,1]};return e==")"&&(a=b.getCursorPosition(),f.doc.getLine(a.row).substring(a.column,a.column+1)==")"&&f.$findOpeningBracket(")",{column:a.column+1,row:a.row})!==null)?{text:"",selection:[1,1]}:!1});this.add("parens","deletion",
function(a,c,b,f,e){a=f.doc.getTextRange(e);return!e.isMultiLine()&&a=="("&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==")"?(e.end.column++,e):!1});this.add("string_dquotes","insertion",function(a,c,b,f,e){if(e=='"'){a=b.getSelectionRange();c=f.doc.getTextRange(a);if(c!=="")return{text:'"'+c+'"',selection:!1};b=b.getCursorPosition();c=f.doc.getLine(b.row);if(c.substring(b.column-1,b.column)=="\\")return!1;for(var f=f.getTokens(a.start.row,a.start.row)[0].tokens,e=0,h,
i=-1,k=0;k<f.length;k++){h=f[k];h.type=="string"?i=-1:i<0&&(i=h.value.indexOf('"'));if(h.value.length+e>a.start.column)break;e+=f[k].value.length}if(!h||i<0&&h.type!=="comment"&&(h.type!=="string"||a.start.column!==h.value.length+e-1&&h.value.lastIndexOf('"')===h.value.length-1))return{text:'""',selection:[1,1]};if(h&&h.type==="string"&&c.substring(b.column,b.column+1)=='"')return{text:"",selection:[1,1]}}return!1});this.add("string_dquotes","deletion",function(a,c,b,f,e){a=f.doc.getTextRange(e);
return!e.isMultiLine()&&a=='"'&&f.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)=='"'?(e.end.column++,e):!1})};k.inherits(f,h);i.CstyleBehaviour=f});define("ace/mode/css","require,exports,module,pilot/oop,ace/mode/text,ace/tokenizer,ace/mode/css_highlight_rules,ace/mode/matching_brace_outdent,ace/worker/worker_client".split(","),function(b,i){var k=b("pilot/oop"),h=b("ace/mode/text").Mode,f=b("ace/tokenizer").Tokenizer,a=b("ace/mode/css_highlight_rules").CssHighlightRules,c=b("ace/mode/matching_brace_outdent").MatchingBraceOutdent,d=b("ace/worker/worker_client").WorkerClient,g=function(){this.$tokenizer=new f((new a).getRules());this.$outdent=
new c};k.inherits(g,h);(function(){this.getNextLineIndent=function(a,c,b){var d=this.$getIndent(c),a=this.$tokenizer.getLineTokens(c,a).tokens;return a.length&&a[a.length-1].type=="comment"?d:(c.match(/^.*\{\s*$/)&&(d+=b),d)};this.checkOutdent=function(a,c,b){return this.$outdent.checkOutdent(c,b)};this.autoOutdent=function(a,c,b){this.$outdent.autoOutdent(c,b)};this.createWorker=function(a){var c=a.getDocument(),b=new d(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");b.call("setValue",
[c.getValue()]);c.on("change",function(a){a.range={start:a.data.range.start,end:a.data.range.end};b.emit("change",a)});b.on("csslint",function(c){var b=[];c.data.forEach(function(a){b.push({row:a.line-1,column:a.col-1,text:a.message,type:a.type,lint:a})});a.setAnnotations(b)})}}).call(g.prototype);i.Mode=g});
define("ace/mode/css_highlight_rules","require,exports,module,pilot/oop,pilot/lang,ace/mode/text_highlight_rules".split(","),function(b,i){var k=b("pilot/oop"),h=b("pilot/lang"),f=b("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){function a(b){for(var c=[],b=b.split(""),d=0;d<b.length;d++)c.push("[",b[d].toLowerCase(),b[d].toUpperCase(),"]");return c.join("")}var b=h.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),
f=h.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),e=h.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),
i=h.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),k=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("em")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ex")},{token:"constant.numeric",
regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("px")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("cm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("mm")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("in")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pt")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("pc")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+
a("deg")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("rad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("grad")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("ms")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("s")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("hz")},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"+a("khz")},
{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))%"},{token:"constant.numeric",regex:"\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return b.hasOwnProperty(a.toLowerCase())?"support.type":f.hasOwnProperty(a.toLowerCase())?"support.function":e.hasOwnProperty(a.toLowerCase())?"support.constant":i.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text"},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],
o=h.copyArray(k);o.unshift({token:"rparen",regex:"\\}",next:"start"});k=h.copyArray(k);k.unshift({token:"rparen",regex:"\\}",next:"media"});var n=[{token:"comment",merge:!0,regex:".+"}],p=h.copyArray(n);p.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var j=h.copyArray(n);j.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});n=h.copyArray(n);n.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"});this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",
regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",
regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:p,ruleset:o,ruleset_comment:n,media_ruleset:k,media_comment:j}};k.inherits(a,f);i.CssHighlightRules=a});
define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(b,i){var k=b("ace/range").Range,h=function(){};(function(){this.checkOutdent=function(b,a){return/^\s+$/.test(b)?/^\s*\}/.test(a):!1};this.autoOutdent=function(b,a){var c=b.getLine(a).match(/^(\s*\})/);if(!c)return 0;var c=c[1].length,d=b.findMatchingBracket({row:a,column:c});if(!d||d.row==a)return 0;d=this.$getIndent(b.getLine(d.row));b.replace(new k(a,0,a,c-1),d)};this.$getIndent=function(b){return(b=b.match(/^(\s+)/))?
b[1]:""}}).call(h.prototype);i.MatchingBraceOutdent=h});
define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(b,i){var k=b("pilot/oop"),h=b("pilot/event_emitter").EventEmitter,f=function(a,c,d,f){this.callbacks=[];if(b.packaged)a=this.$guessBasePath(),this.$worker=new Worker(a+c);else{var e=this.$normalizePath(b.nameToUrl("ace/worker/worker",null,"_"));this.$worker=new Worker(e);e={};for(c=0;c<a.length;c++){var h=a[c],i=this.$normalizePath(b.nameToUrl(h,null,"_").replace(/.js$/,""));e[h]=i}}this.$worker.postMessage({init:!0,
tlns:e,module:d,classname:f});this.callbackId=1;this.callbacks={};var k=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&console.log&&console.log(a.data);break;case "event":k._dispatchEvent(a.name,{data:a.data});break;case "call":var b=k.callbacks[a.id];b&&(b(a.data),delete k.callbacks[a.id])}}};(function(){k.implement(this,h);this.$normalizePath=function(a){return a.match(/^\w+:/)||
(a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")),a};this.$guessBasePath=function(){if(b.aceBaseUrl)return b.aceBaseUrl;for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var d=a[c],f=d.getAttribute("data-ace-base");if(f)return f.replace(/\/*$/,"/");if(d=d.src||d.getAttribute("src"))if(d=d.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/))return d[1]||d[2]}return""};this.terminate=function(){this._dispatchEvent("terminate",
{});this.$worker.terminate()};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,d){if(d){var f=this.callbackId++;this.callbacks[f]=d;b.push(f)}this.send(a,b)};this.emit=function(a,b){this.$worker.postMessage({event:a,data:b})}}).call(f.prototype);i.WorkerClient=f});namespace.module("com.pageforest.editor.ace",function(b){var i,k=!1,h=window.require("ace/mode/javascript").Mode,f=window.require("ace/mode/javascript").Mode,a=window.require("ace/mode/css").Mode,c=window.require("ace/mode/html").Mode,d=window.require("ace/mode/xml").Mode,g,e;b.extend({createEditor:function(){g=$("#ace");g.css("height",window.innerHeight-43+"px");g.css("width",window.innerWidth+"px");i=ace.edit("ace");i.renderer.$horizScrollAlwaysVisible=!1;$(".ace_print_margin").remove();e=$(".ace_cursor")},
loadFile:function(b,e){var g=b.toLowerCase();g.substr(-5)==".html"?i.getSession().setMode(new c):g.substr(-4)==".xml"?i.getSession().setMode(new d):g.substr(-3)==".js"?i.getSession().setMode(new h):g.substr(-5)==".json"?i.getSession().setMode(new f):g.substr(-4)==".css"?i.getSession().setMode(new a):i.getSession().setMode(new c);i.getSession().setValue(e)},adjustHeight:function(){},getData:function(){return i.getSession().getValue()},editor:i,view:function(a){return a=="show"?(k=!0,$("#ace").css("visibility",
"visible"),e.css("visibility","visible"),!0):a=="hide"?(k=!1,$("#ace").css("visibility","hidden"),e.css("visibility","hidden"),!1):k}})});